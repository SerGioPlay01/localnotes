/* Кастомные стили для TinyMCE редактора */

/* Скрываем оригинальный textarea */
#editorContainer {
    display: none !important;
}

/* Основной контейнер редактора */
.tox-tinymce,
.tox-tinymce-aux {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
}

/* Контейнер редактора */
.tox-tinymce {
    flex: 1 !important;
    min-height: 0 !important;
}

/* Тулбар */
.tox .tox-toolbar,
.tox .tox-toolbar__primary {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 16px 0 !important;
    min-height: 56px !important;
    display: flex !important;
    align-items: center !important;
    flex-wrap: wrap !important;
    gap: 4px !important;
}

/* Группы кнопок в тулбаре */
.tox .tox-toolbar__group {
    display: flex !important;
    align-items: center !important;
    margin: 0 6px !important;
    padding: 0 !important;
    gap: 2px !important;
}

/* Разделители в тулбаре */
.tox .tox-toolbar__separator {
    width: 1px !important;
    height: 24px !important;
    background: rgba(0, 0, 0, 0.1) !important;
    margin: 0 8px !important;
    flex-shrink: 0 !important;
}

[data-theme="dark"] .tox .tox-toolbar__separator {
    background: rgba(255, 255, 255, 0.1) !important;
}

/* Кнопки тулбара */
.tox .tox-tbtn {
    background: transparent !important;
    border: none !important;
    border-radius: 6px !important;
    margin: 0 3px !important;
    padding: 10px 12px !important;
    transition: all 0.2s ease !important;
    min-width: 40px !important;
    min-height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
    overflow: visible !important;
}

/* Темная тема */
[data-theme="dark"] .tox .tox-tbtn {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn:focus {
    background: rgba(255, 255, 255, 0.1) !important;
    outline: none !important;
    box-shadow: none !important;
}

[data-theme="dark"] .tox .tox-tbtn--enabled {
    background: #28a745 !important;
    color: #ffffff !important;
}

/* Светлая тема */
[data-theme="light"] .tox .tox-tbtn {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn:focus {
    background: rgba(0, 0, 0, 0.05) !important;
    outline: none !important;
    box-shadow: none !important;
}

[data-theme="light"] .tox .tox-tbtn--enabled {
    background: #28a745 !important;
    color: #ffffff !important;
}

/* Мобильные устройства */
@media (max-width: 768px) {
    .tox .tox-tbtn {
        padding: 12px 14px !important;
        min-width: 44px !important;
        min-height: 44px !important;
    }
    
    .tox .tox-tbtn svg,
    .tox .tox-tbtn .tox-icon {
        width: 24px !important;
        height: 24px !important;
    }
    
    .tox .tox-toolbar,
    .tox .tox-toolbar__primary {
        padding: 20px 0 !important;
        min-height: 64px !important;
    }
    
    .tox .tox-toolbar__group {
        margin: 0 8px !important;
        gap: 4px !important;
    }
}

/* ===== СОВРЕМЕННОЕ МОДАЛЬНОЕ ОКНО ===== */

/* Overlay */
.modern-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
        backdrop-filter: blur(0px);
    }
    to {
        opacity: 1;
        backdrop-filter: blur(8px);
    }
}

/* Контейнер модального окна */
.modern-modal-container {
    background: var(--modal-bg);
    border: 1px solid var(--modal-border);
    border-radius: var(--border-radius-large);
    box-shadow: var(--shadow-strong);
    max-width: 600px;
    width: 90%;
    max-height: 90vh;
    overflow: hidden;
    animation: modalSlideIn 0.3s ease-out;
    position: relative;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Заголовок модального окна */
.modern-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 24px 32px;
    border-bottom: 1px solid var(--border-color);
    background: var(--gradient-card);
}

.modern-modal-title {
    margin: 0;
    font-size: 20px;
    font-weight: 600;
    color: var(--text-color);
    display: flex;
    align-items: center;
    gap: 12px;
}

.modern-modal-title i {
    color: var(--primary-color);
    font-size: 18px;
}

.modern-modal-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 18px;
    cursor: pointer;
    padding: 8px;
    border-radius: var(--border-radius-small);
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
}

.modern-modal-close:hover {
    background: var(--button-hover);
    color: var(--text-color);
}

/* Тело модального окна */
.modern-modal-body {
    padding: 32px;
}

/* Вкладки */
.modern-tabs {
    display: flex;
    background: var(--bg-secondary);
    border-radius: var(--border-radius-medium);
    padding: 4px;
    margin-bottom: 24px;
    border: 1px solid var(--border-color);
}

.modern-tab {
    flex: 1;
    background: none;
    border: none;
    padding: 12px 16px;
    border-radius: var(--border-radius-small);
    cursor: pointer;
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-weight: 500;
    color: var(--text-secondary);
    position: relative;
}

.modern-tab:hover {
    color: var(--text-color);
    background: var(--button-hover);
}

.modern-tab-active {
    background: var(--primary-color) !important;
    color: var(--bg-color) !important;
    box-shadow: var(--shadow-soft);
}

.modern-tab i {
    font-size: 14px;
}

/* Контент вкладок */
.modern-tab-content {
    animation: tabFadeIn 0.2s ease-out;
}

@keyframes tabFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Группы ввода */
.modern-input-group {
    margin-bottom: 20px;
}

.modern-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-color);
    font-size: 14px;
}

.modern-input {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid var(--input-border);
    border-radius: var(--border-radius-small);
    background: var(--input-bg);
    color: var(--input-text);
    font-size: 14px;
    transition: var(--transition-fast);
    box-sizing: border-box;
}

.modern-input:focus {
    outline: none;
    border-color: var(--input-focus);
    box-shadow: 0 0 0 3px rgba(174, 252, 110, 0.1);
}

.modern-input::placeholder {
    color: var(--text-muted);
}

/* Файловый ввод */
.modern-file-input-wrapper {
    position: relative;
}

.modern-file-input {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.modern-file-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 16px 24px;
    border: 2px dashed var(--border-color);
    border-radius: var(--border-radius-medium);
    background: var(--bg-secondary);
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
    font-weight: 500;
    min-height: 60px;
}

.modern-file-label:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background: var(--button-hover);
}

.modern-file-label i {
    font-size: 20px;
}

/* Предварительный просмотр */
.modern-preview {
    margin-top: 16px;
    text-align: center;
    min-height: 40px;
    max-height: 180px;
    overflow: hidden;
}

.modern-preview img {
    max-width: 100%;
    max-height: 200px;
    border-radius: var(--border-radius-small);
    box-shadow: var(--shadow-soft);
    border: 1px solid var(--border-color);
}

/* Превью видео */
.preview-container {
    position: relative;
    display: inline-block;
    width: 100%;
    max-width: 100%;
    max-height: 200px;
    overflow: hidden;
}

.preview-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    border-radius: 6px;
    pointer-events: none;
    z-index: 1;
}

.preview-overlay i {
    font-size: 32px;
    margin-bottom: 8px;
    opacity: 0.8;
}

.preview-overlay p {
    margin: 0;
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Стили для кнопок модального окна iframe */
#customIframeModal .modern-modal-footer {
    position: relative;
    z-index: 100;
    background: var(--modal-bg);
    border-top: 1px solid var(--border-color);
    padding: 16px 20px;
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    flex-shrink: 0;
    min-height: 60px;
    align-items: center;
}

#customIframeModal .modern-btn {
    position: relative;
    z-index: 101;
    padding: 12px 24px;
    border: 1px solid #ddd;
    border-radius: 6px;
    background: #f8f9fa;
    color: #333;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 100px;
    text-decoration: none;
    outline: none;
}

#customIframeModal .modern-btn:hover {
    background: #e9ecef;
    border-color: #28a745;
    color: #333;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

#customIframeModal .modern-btn-primary {
    background: #28a745;
    color: white;
    border-color: #28a745;
}

#customIframeModal .modern-btn-primary:hover {
    background: #218838;
    border-color: #218838;
    color: white;
}

#customIframeModal .modern-btn-secondary {
    background: #6c757d;
    color: white;
    border-color: #6c757d;
}

#customIframeModal .modern-btn-secondary:hover {
    background: #dc3545;
    border-color: #dc3545;
    color: white;
}

/* Стили для модального контейнера iframe */
#customIframeModal .modern-modal-container {
    display: flex;
    flex-direction: column;
    max-height: 90vh;
    overflow: hidden;
}

#customIframeModal .modern-modal-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

#customIframeModal .modern-modal-footer {
    flex-shrink: 0;
    margin-top: auto;
}

/* Темная тема для кнопок iframe модального окна */
[data-theme="dark"] #customIframeModal .modern-btn {
    background: #343a40;
    color: #ffffff;
    border-color: #495057;
}

[data-theme="dark"] #customIframeModal .modern-btn:hover {
    background: #495057;
    border-color: #28a745;
    color: #ffffff;
}

[data-theme="dark"] #customIframeModal .modern-btn-primary {
    background: #28a745;
    color: #ffffff;
    border-color: #28a745;
}

[data-theme="dark"] #customIframeModal .modern-btn-primary:hover {
    background: #218838;
    border-color: #218838;
    color: #ffffff;
}

[data-theme="dark"] #customIframeModal .modern-btn-secondary {
    background: #6c757d;
    color: #ffffff;
    border-color: #6c757d;
}

[data-theme="dark"] #customIframeModal .modern-btn-secondary:hover {
    background: #dc3545;
    border-color: #dc3545;
    color: #ffffff;
}

/* Информация о файле */
.modern-file-info {
    margin-top: 12px;
    padding: 12px 16px;
    background: var(--bg-secondary);
    border-radius: var(--border-radius-small);
    border: 1px solid var(--border-color);
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Футер модального окна */
.modern-modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    padding: 24px 32px;
    border-top: 1px solid var(--border-color);
    background: var(--bg-secondary);
}

/* Кнопки */
.modern-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    border: none;
    border-radius: var(--border-radius-small);
    font-weight: 500;
    font-size: 14px;
    cursor: pointer;
    transition: var(--transition-fast);
    min-width: 100px;
    justify-content: center;
}

.modern-btn i {
    font-size: 12px;
}

.modern-btn-primary {
    background: var(--primary-color);
    color: var(--bg-color);
    box-shadow: var(--shadow-soft);
}

.modern-btn-primary:hover {
    background: var(--primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-medium);
}

.modern-btn-secondary {
    background: var(--button-bg);
    color: var(--button-text);
    border: 1px solid var(--button-border);
}

.modern-btn-secondary:hover {
    background: var(--button-hover);
    border-color: var(--border-hover);
}

/* Адаптивность */
@media (max-width: 768px) {
    .modern-modal-container {
        width: 95%;
        margin: 20px;
    }
    
    .modern-modal-header,
    .modern-modal-body,
    .modern-modal-footer {
        padding: 20px;
    }
    
    .modern-tabs {
        flex-direction: column;
        gap: 4px;
    }
    
    .modern-tab {
        justify-content: flex-start;
    }
    
    .modern-modal-footer {
        flex-direction: column;
    }
    
    .modern-btn {
        width: 100%;
    }
}

/* ===== СТИЛИ ДЛЯ ВИДЕО МОДАЛЬНОГО ОКНА ===== */

/* Опции видео */
.video-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 8px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 14px;
    color: var(--text-color);
    transition: var(--transition-fast);
}

.checkbox-label:hover {
    color: var(--primary-color);
}

.modern-checkbox {
    position: relative;
    width: 18px;
    height: 18px;
    margin: 0;
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border: 2px solid var(--border-color);
    border-radius: var(--border-radius-small);
    background: var(--input-bg);
    transition: var(--transition-fast);
}

.modern-checkbox:checked {
    background: var(--primary-color);
    border-color: var(--primary-color);
}

.modern-checkbox:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--bg-color);
    font-size: 12px;
    font-weight: bold;
}

.checkmark {
    display: none;
}

/* Предварительный просмотр видео */
.preview-container {
    margin-top: 16px;
    border-radius: var(--border-radius-small);
    overflow: hidden;
    box-shadow: var(--shadow-soft);
    border: 1px solid var(--border-color);
}

.preview-container iframe {
    width: 100%;
    height: 200px;
    border: none;
}

.preview-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    background: var(--bg-secondary);
    border: 2px dashed var(--border-color);
    border-radius: var(--border-radius-medium);
    color: var(--text-muted);
    text-align: center;
}

.preview-placeholder i {
    font-size: 2rem;
    margin-bottom: 12px;
    color: var(--text-secondary);
}

.preview-placeholder p {
    margin: 0;
    font-size: 14px;
}

/* Стили для select */
.modern-input[type="select"],
.modern-input select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 12px center;
    background-repeat: no-repeat;
    background-size: 16px;
    padding-right: 40px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

/* Стили для number input */
.modern-input[type="number"] {
    -moz-appearance: textfield;
     appearance: textfield;
}

.modern-input[type="number"]::-webkit-outer-spin-button,
.modern-input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Адаптивность для видео модального окна */
@media (max-width: 768px) {
    .video-options {
        gap: 10px;
    }
    
    .checkbox-label {
        font-size: 13px;
    }
    
    .modern-checkbox {
        width: 16px;
        height: 16px;
    }
    
    .preview-container iframe {
        height: 150px;
    }
    
    .preview-placeholder {
        padding: 30px 15px;
    }
    
    .preview-placeholder i {
        font-size: 1.5rem;
    }
}

/* ===== СТИЛИ ДЛЯ ШРИФТОВ И РАЗМЕРОВ ===== */

/* Dropdown для шрифтов */
.tox .tox-listboxfield {
    background: var(--input-bg) !important;
    border: 1px solid var(--input-border) !important;
    border-radius: var(--border-radius-small) !important;
    color: var(--input-text) !important;
}

.tox .tox-listboxfield:focus {
    border-color: var(--input-focus) !important;
    box-shadow: 0 0 0 3px rgba(174, 252, 110, 0.1) !important;
}

.tox .tox-listboxfield .tox-listboxfield__select-label {
    color: var(--text-color) !important;
    font-size: 14px !important;
    font-weight: 500 !important;
}

/* Dropdown для размеров шрифта */
.tox .tox-listboxfield[aria-label*="fontsize"],
.tox .tox-listboxfield[aria-label*="размер"] {
    min-width: 80px !important;
}

.tox .tox-listboxfield[aria-label*="fontsize"] .tox-listboxfield__select-label,
.tox .tox-listboxfield[aria-label*="размер"] .tox-listboxfield__select-label {
    font-size: 12px !important;
    font-weight: 600 !important;
    text-align: center !important;
}

.tox .tox-listboxfield[aria-label*="fontfamily"],
.tox .tox-listboxfield[aria-label*="шрифт"] {
    min-width: 140px !important;
}

/* Стили для dropdown меню */
.tox .tox-collection {
    background: var(--modal-bg) !important;
    border: 1px solid var(--modal-border) !important;
    border-radius: var(--border-radius-small) !important;
    box-shadow: var(--shadow-medium) !important;
    max-height: 300px !important;
    overflow-y: auto !important;
}

.tox .tox-collection__item {
    color: var(--text-color) !important;
    padding: 8px 12px !important;
    font-size: 14px !important;
    transition: var(--transition-fast) !important;
}

.tox .tox-collection__item:hover {
    background: var(--button-hover) !important;
    color: var(--text-color) !important;
}

.tox .tox-collection__item--active {
    background: var(--primary-color) !important;
    color: var(--bg-color) !important;
}

/* Стили для шрифтов в dropdown (только те, что есть в папке fonts) */
.tox .tox-collection__item[data-value*="Arial"] {
    font-family: Arial, sans-serif !important;
}

.tox .tox-collection__item[data-value*="Times New Roman"] {
    font-family: "Times New Roman", serif !important;
}

.tox .tox-collection__item[data-value*="Georgia"] {
    font-family: Georgia, serif !important;
}

.tox .tox-collection__item[data-value*="Verdana"] {
    font-family: Verdana, sans-serif !important;
}

.tox .tox-collection__item[data-value*="Tahoma"] {
    font-family: Tahoma, sans-serif !important;
}

.tox .tox-collection__item[data-value*="Trebuchet MS"] {
    font-family: "Trebuchet MS", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Impact"] {
    font-family: Impact, sans-serif !important;
}

.tox .tox-collection__item[data-value*="Comic Sans MS"] {
    font-family: "Comic Sans MS", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Courier New"] {
    font-family: "Courier New", monospace !important;
}

.tox .tox-collection__item[data-value*="Consolas"] {
    font-family: Consolas, monospace !important;
}

.tox .tox-collection__item[data-value*="Monaco"] {
    font-family: Monaco, monospace !important;
}

.tox .tox-collection__item[data-value*="Golos Text"] {
    font-family: 'Golos Text', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Intro"] {
    font-family: 'Intro', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Roboto"] {
    font-family: 'Roboto', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Open Sans"] {
    font-family: 'Open Sans', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Lato"] {
    font-family: 'Lato', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Montserrat"] {
    font-family: 'Montserrat', sans-serif !important;
}

.tox .tox-collection__item[data-value*="Lekton Nerd Font Mono"] {
    font-family: 'Lekton Nerd Font Mono', monospace !important;
}

/* Стили для размеров шрифтов в dropdown */
.tox .tox-collection__item[data-value*="pt"] {
    font-size: 12px !important;
    font-weight: 600 !important;
    text-align: center !important;
}

.tox .tox-collection__item[data-value*="8pt"] {
    font-size: 8pt !important;
}

.tox .tox-collection__item[data-value*="10pt"] {
    font-size: 10pt !important;
}

.tox .tox-collection__item[data-value*="12pt"] {
    font-size: 12pt !important;
}

.tox .tox-collection__item[data-value*="14pt"] {
    font-size: 14pt !important;
}

.tox .tox-collection__item[data-value*="16pt"] {
    font-size: 16pt !important;
}

.tox .tox-collection__item[data-value*="18pt"] {
    font-size: 18pt !important;
}

.tox .tox-collection__item[data-value*="20pt"] {
    font-size: 20pt !important;
}

.tox .tox-collection__item[data-value*="24pt"] {
    font-size: 24pt !important;
}

.tox .tox-collection__item[data-value*="28pt"] {
    font-size: 28pt !important;
}

.tox .tox-collection__item[data-value*="32pt"] {
    font-size: 32pt !important;
}

.tox .tox-collection__item[data-value*="36pt"] {
    font-size: 36pt !important;
}

.tox .tox-collection__item[data-value*="48pt"] {
    font-size: 48pt !important;
}

.tox .tox-collection__item[data-value*="Times"] {
    font-family: "Times New Roman", serif !important;
}

.tox .tox-collection__item[data-value*="Courier"] {
    font-family: "Courier New", monospace !important;
}

.tox .tox-collection__item[data-value*="Georgia"] {
    font-family: Georgia, serif !important;
}

.tox .tox-collection__item[data-value*="Verdana"] {
    font-family: Verdana, sans-serif !important;
}

.tox .tox-collection__item[data-value*="Golos"] {
    font-family: "Golos Text", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Roboto"] {
    font-family: "Roboto", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Open Sans"] {
    font-family: "Open Sans", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Lato"] {
    font-family: "Lato", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Montserrat"] {
    font-family: "Montserrat", sans-serif !important;
}

.tox .tox-collection__item[data-value*="Playfair"] {
    font-family: "Playfair Display", serif !important;
}

.tox .tox-collection__item[data-value*="Merriweather"] {
    font-family: "Merriweather", serif !important;
}

.tox .tox-collection__item[data-value*="Fira Code"] {
    font-family: "Fira Code", monospace !important;
}

.tox .tox-collection__item[data-value*="Source Code"] {
    font-family: "Source Code Pro", monospace !important;
}

/* Стили для размеров шрифта в dropdown */
.tox .tox-collection__item[data-value*="8px"] {
    font-size: 8px !important;
}

.tox .tox-collection__item[data-value*="10px"] {
    font-size: 10px !important;
}

.tox .tox-collection__item[data-value*="12px"] {
    font-size: 12px !important;
}

.tox .tox-collection__item[data-value*="14px"] {
    font-size: 14px !important;
}

.tox .tox-collection__item[data-value*="16px"] {
    font-size: 16px !important;
}

.tox .tox-collection__item[data-value*="18px"] {
    font-size: 18px !important;
}

.tox .tox-collection__item[data-value*="20px"] {
    font-size: 20px !important;
}

.tox .tox-collection__item[data-value*="24px"] {
    font-size: 24px !important;
}

.tox .tox-collection__item[data-value*="28px"] {
    font-size: 28px !important;
}

.tox .tox-collection__item[data-value*="32px"] {
    font-size: 32px !important;
}

.tox .tox-collection__item[data-value*="36px"] {
    font-size: 36px !important;
}

.tox .tox-collection__item[data-value*="48px"] {
    font-size: 48px !important;
}

.tox .tox-collection__item[data-value*="60px"] {
    font-size: 60px !important;
}

.tox .tox-collection__item[data-value*="72px"] {
    font-size: 72px !important;
}

/* Улучшенные стили для кнопок шрифтов */
.tox .tox-tbtn[aria-label*="fontfamily"],
.tox .tox-tbtn[aria-label*="шрифт"] {
    min-width: 120px !important;
}

.tox .tox-tbtn[aria-label*="fontsize"],
.tox .tox-tbtn[aria-label*="размер"] {
    min-width: 80px !important;
}

/* Стили для кастомной кнопки изображения */
.tox .tox-tbtn[aria-label*="изображение"],
.tox .tox-tbtn[aria-label*="Image"] {
    position: relative;
}

.tox .tox-tbtn[aria-label*="изображение"]:hover,
.tox .tox-tbtn[aria-label*="Image"]:hover {
    background: rgba(0, 123, 186, 0.1) !important;
}

/* Улучшенные стили для иконок */
.tox .tox-tbtn svg {
    width: 22px !important;
    height: 22px !important;
    display: block !important;
    flex-shrink: 0 !important;
    max-width: none !important;
    max-height: none !important;
}

/* Стили для иконок в кнопках */
.tox .tox-tbtn .tox-icon {
    width: 22px !important;
    height: 22px !important;
    display: block !important;
    flex-shrink: 0 !important;
    max-width: none !important;
    max-height: none !important;
}

/* Обеспечиваем правильное отображение иконок */
.tox .tox-tbtn .tox-icon svg {
    width: 100% !important;
    height: 100% !important;
    display: block !important;
    max-width: none !important;
    max-height: none !important;
}

/* Специальные стили для текстовых иконок */
.tox .tox-tbtn .tox-icon:not(svg) {
    font-size: 14px !important;
    font-weight: 600 !important;
    line-height: 1 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 22px !important;
    height: 22px !important;
}

/* Стили для кнопок с текстом (B, I, U, S) */
.tox .tox-tbtn[aria-label*="Bold"],
.tox .tox-tbtn[aria-label*="Italic"],
.tox .tox-tbtn[aria-label*="Underline"],
.tox .tox-tbtn[aria-label*="Strikethrough"] {
    font-family: 'Times New Roman', serif !important;
    font-weight: bold !important;
    font-size: 16px !important;
}

.tox .tox-tbtn[aria-label*="Italic"] {
    font-style: italic !important;
}

.tox .tox-tbtn[aria-label*="Underline"] {
    text-decoration: underline !important;
}

.tox .tox-tbtn[aria-label*="Strikethrough"] {
    text-decoration: line-through !important;
}

/* Специальные стили для проблемных иконок */
.tox .tox-tbtn[aria-label*="Superscript"],
.tox .tox-tbtn[aria-label*="Subscript"] {
    font-size: 12px !important;
    line-height: 1 !important;
}

.tox .tox-tbtn[aria-label*="Word count"] {
    font-size: 10px !important;
    line-height: 1 !important;
    font-weight: 600 !important;
}

/* Улучшенные стили для всех текстовых иконок */
.tox .tox-tbtn .tox-icon:not(svg):not(.tox-icon--image) {
    font-size: 14px !important;
    font-weight: 600 !important;
    line-height: 1 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 22px !important;
    height: 22px !important;
    text-align: center !important;
    overflow: visible !important;
}

/* Специальные стили для кнопок с маленькими иконками */
.tox .tox-tbtn[aria-label*="superscript"] .tox-icon,
.tox .tox-tbtn[aria-label*="subscript"] .tox-icon {
    font-size: 11px !important;
    line-height: 1 !important;
}

.tox .tox-tbtn[aria-label*="wordcount"] .tox-icon {
    font-size: 9px !important;
    line-height: 1 !important;
    font-weight: 700 !important;
}

/* Дополнительные стили для предотвращения обрезания */
.tox .tox-tbtn {
    box-sizing: border-box !important;
    white-space: nowrap !important;
}

.tox .tox-tbtn * {
    box-sizing: border-box !important;
}

/* Стили для dropdown кнопок */
.tox .tox-tbtn--select {
    min-width: 120px !important;
    padding: 10px 16px !important;
}

.tox .tox-tbtn--select .tox-tbtn__select-label {
    font-size: 14px !important;
    font-weight: 500 !important;
}

/* Стили для кнопок с иконками и текстом */
.tox .tox-tbtn--bespoke {
    min-width: auto !important;
    padding: 10px 12px !important;
}

/* Обеспечиваем правильное отображение всех элементов */
.tox .tox-tbtn .tox-tbtn__select-label,
.tox .tox-tbtn .tox-tbtn__select-chevron {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* ===== СТИЛИ ДЛЯ ОТОБРАЖЕНИЯ ШРИФТОВ В РЕДАКТОРЕ ===== */

/* Обеспечиваем правильное отображение пользовательских шрифтов */
.tox-edit-area__iframe {
    font-family: inherit !important;
}

.tox-edit-area__iframe body {
    font-family: inherit !important;
}

.tox-edit-area__iframe * {
    font-family: inherit !important;
}

/* Стили для inline элементов с пользовательскими шрифтами */
.tox-edit-area__iframe span[style*="font-family"] {
    font-family: inherit !important;
}

.tox-edit-area__iframe span[style*="font-size"] {
    font-size: inherit !important;
}


/* Контейнер для элементов управления изображением */
.image-controls {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--modal-bg, #ffffff);
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: var(--border-radius-small, 6px);
    padding: 8px 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: var(--shadow-medium, 0 4px 12px rgba(0, 0, 0, 0.15));
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition-fast, all 0.2s ease);
    white-space: nowrap;
}

.image-controls.show {
    opacity: 1;
    visibility: visible;
}

/* Кнопки управления размером */
.size-control-btn {
    background: var(--button-bg, #f8f9fa);
    border: 1px solid var(--button-border, #dee2e6);
    color: var(--button-text, #495057);
    padding: 6px 10px;
    border-radius: var(--border-radius-small, 4px);
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    transition: var(--transition-fast, all 0.2s ease);
    display: flex;
    align-items: center;
    gap: 4px;
    min-width: 32px;
    justify-content: center;
    text-decoration: none;
    outline: none;
}

.size-control-btn:hover {
    background: var(--button-hover, #e9ecef);
    border-color: var(--border-hover, #adb5bd);
    transform: translateY(-1px);
}

.size-control-btn.active {
    background: var(--primary-color, #007bff);
    color: var(--bg-color, #ffffff);
    border-color: var(--primary-color, #007bff);
    box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
}

/* Слайдер размера */
.size-slider {
    width: 80px;
    height: 4px;
    background: var(--border-color, #e0e0e0);
    border-radius: 2px;
    outline: none;
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    margin: 0 8px;
}

.size-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: var(--primary-color, #007bff);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: var(--shadow-soft, 0 2px 4px rgba(0, 0, 0, 0.2));
    border: 2px solid #ffffff;
}

.size-slider::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: var(--primary-color, #007bff);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: var(--shadow-soft, 0 2px 4px rgba(0, 0, 0, 0.2));
}

/* Индикатор размера */
.size-indicator {
    font-size: 11px;
    color: var(--text-secondary, #6c757d);
    font-weight: 500;
    min-width: 40px;
    text-align: center;
    background: var(--bg-secondary, #f8f9fa);
    padding: 2px 6px;
    border-radius: var(--border-radius-small, 4px);
    border: 1px solid var(--border-color, #e0e0e0);
}

/* Контейнер изображения с возможностью изменения размера */
.resizable-image-container {
    position: relative;
    display: inline-block;
    max-width: 100%;
    margin: 8px 0;
}

.resizable-image-container:hover .image-controls {
    opacity: 1;
    visibility: visible;
}

.resizable-image-container img {
    max-width: 100%;
    height: auto;
    border-radius: var(--border-radius-small);
    box-shadow: var(--shadow-soft);
    border: 1px solid var(--border-color);
    transition: var(--transition-fast);
    cursor: pointer;
}

.resizable-image-container img:hover {
    box-shadow: var(--shadow-medium);
}

/* Кнопка удаления изображения */
.remove-image-btn {
    background: #dc3545;
    border: none;
    color: white;
    padding: 4px 8px;
    border-radius: var(--border-radius-small, 4px);
    cursor: pointer;
    font-size: 12px;
    transition: var(--transition-fast, all 0.2s ease);
    outline: none;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
}

.remove-image-btn:hover {
    background: #c82333;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
}

/* Предустановленные размеры */
.preset-sizes {
    display: flex;
    gap: 4px;
}

.preset-size-btn {
    background: var(--button-bg, #f8f9fa);
    border: 1px solid var(--button-border, #dee2e6);
    color: var(--button-text, #495057);
    padding: 4px 8px;
    border-radius: var(--border-radius-small, 4px);
    cursor: pointer;
    font-size: 10px;
    font-weight: 500;
    transition: var(--transition-fast, all 0.2s ease);
    min-width: 24px;
    text-align: center;
    outline: none;
}

.preset-size-btn:hover {
    background: var(--button-hover, #e9ecef);
    transform: translateY(-1px);
}

.preset-size-btn.active {
    background: var(--primary-color, #007bff);
    color: var(--bg-color, #ffffff);
    border-color: var(--primary-color, #007bff);
    box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
}

/* Адаптивность для мобильных устройств */
@media (max-width: 768px) {
    .image-controls {
        top: -50px;
        padding: 10px 14px;
        gap: 10px;
    }
    
    .size-control-btn {
        padding: 8px 12px;
        font-size: 13px;
        min-width: 36px;
    }
    
    .size-slider {
        width: 100px;
    }
    
    .preset-sizes {
        gap: 6px;
    }
    
    .preset-size-btn {
        padding: 6px 10px;
        font-size: 11px;
        min-width: 28px;
    }
}

/* Иконки - темная тема */
[data-theme="dark"] .tox .tox-icon,
[data-theme="dark"] .tox .tox-tbtn svg,
[data-theme="dark"] .tox .tox-tbtn .tox-icon,
[data-theme="dark"] .tox .tox-tbtn__icon-wrap svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn:hover .tox-icon,
[data-theme="dark"] .tox .tox-tbtn:hover svg,
[data-theme="dark"] .tox .tox-tbtn:hover .tox-tbtn__icon-wrap svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn--enabled .tox-icon,
[data-theme="dark"] .tox .tox-tbtn--enabled svg,
[data-theme="dark"] .tox .tox-tbtn--enabled .tox-tbtn__icon-wrap svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

/* Иконки - светлая тема */
[data-theme="light"] .tox .tox-icon,
[data-theme="light"] .tox .tox-tbtn svg,
[data-theme="light"] .tox .tox-tbtn .tox-icon,
[data-theme="light"] .tox .tox-tbtn__icon-wrap svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn:hover .tox-icon,
[data-theme="light"] .tox .tox-tbtn:hover svg,
[data-theme="light"] .tox .tox-tbtn:hover .tox-tbtn__icon-wrap svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn--enabled .tox-icon,
[data-theme="light"] .tox .tox-tbtn--enabled svg,
[data-theme="light"] .tox .tox-tbtn--enabled .tox-tbtn__icon-wrap svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

/* Разделители групп */
.tox .tox-toolbar__group {
    border: none !important;
    background: transparent !important;
}

/* Выпадающие кнопки */
.tox .tox-tbtn--select {
    background: transparent !important;
}

[data-theme="dark"] .tox .tox-tbtn--select {
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="light"] .tox .tox-tbtn--select {
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

.tox .tox-tbtn--select:hover {
    border-color: #28a745 !important;
}

/* Область редактирования */
.tox .tox-edit-area {
    background: transparent !important;
    border: none !important;
    flex: 1 !important;
    height: auto !important;
    min-height: 0 !important;
    display: flex !important;
    flex-direction: column !important;
}

.tox .tox-edit-area__iframe {
    background: transparent !important;
    flex: 1 !important;
    height: 100% !important;
    min-height: 0 !important;
}

.tox .tox-edit-area iframe {
    background: transparent !important;
    height: 100% !important;
    min-height: 300px !important;
    width: 100% !important;
}

/* Диалоги и выпадающие меню */
.tox .tox-collection,
.tox .tox-collection__item,
.tox .tox-dialog,
.tox .tox-dialog__header,
.tox .tox-dialog__body,
.tox .tox-dialog__footer,
.tox .tox-pop,
.tox .tox-pop__dialog {
    background: var(--modal-bg) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
}

.tox .tox-collection__item:hover {
    background: var(--button-hover) !important;
}

/* Стили для темной темы - диалоги */
[data-theme="dark"] .tox .tox-dialog,
[data-theme="dark"] .tox .tox-dialog__header,
[data-theme="dark"] .tox .tox-dialog__body,
[data-theme="dark"] .tox .tox-dialog__footer {
    background: #2d2d2d !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-collection,
[data-theme="dark"] .tox .tox-pop__dialog {
    background: #2d2d2d !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-collection__item {
    background: #2d2d2d !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-collection__item:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
}

/* Стили для светлой темы - диалоги */
[data-theme="light"] .tox .tox-dialog,
[data-theme="light"] .tox .tox-dialog__header,
[data-theme="light"] .tox .tox-dialog__body,
[data-theme="light"] .tox .tox-dialog__footer {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection,
[data-theme="light"] .tox .tox-pop__dialog {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection__item {
    background: #ffffff !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection__item:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
}

/* Дополнительные стили для выпадающих списков параграфов */
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-checkmark,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-icon,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-text {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-checkmark,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-icon,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-text {
    color: #212529 !important;
}

/* Стили для текста внутри элементов выпадающего меню */
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label p,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h1,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h2,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h3,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h4,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h5,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label h6,
[data-theme="light"] .tox .tox-collection__item .tox-collection__item-label pre {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label p,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h1,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h2,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h3,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h4,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h5,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label h6,
[data-theme="light"] .tox .tox-collection__item:hover .tox-collection__item-label pre {
    color: #212529 !important;
}

/* Стили для темной темы */
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label p,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h1,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h2,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h3,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h4,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h5,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label h6,
[data-theme="dark"] .tox .tox-collection__item .tox-collection__item-label pre {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label p,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h1,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h2,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h3,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h4,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h5,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label h6,
[data-theme="dark"] .tox .tox-collection__item:hover .tox-collection__item-label pre {
    color: #ffffff !important;
}

/* Стили для всплывающих панелей таблицы */
.tox .tox-pop__dialog {
    background: var(--modal-bg) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    border-radius: 6px !important;
    padding: 8px !important;
}

.tox .tox-pop__dialog .tox-toolbar {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
}

.tox .tox-pop__dialog .tox-toolbar__group {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    margin: 0 4px !important;
}

.tox .tox-pop__dialog .tox-tbtn {
    background: var(--button-bg) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: none !important;
    border-radius: 4px !important;
    margin: 2px !important;
    padding: 6px 8px !important;
    transition: all 0.2s ease !important;
    color: var(--text-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn:hover {
    background: var(--button-hover) !important;
    border-color: #28a745 !important;
    color: var(--text-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn .tox-icon {
    color: var(--text-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn .tox-icon svg {
    fill: var(--text-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn:hover .tox-icon {
    color: var(--text-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn:hover .tox-icon svg {
    fill: var(--text-color) !important;
}

/* Темная тема для всплывающих панелей */
[data-theme="dark"] .tox .tox-pop__dialog {
    background: #2d2d2d !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn {
    background: #3d3d3d !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: #28a745 !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn .tox-icon {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn .tox-icon svg {
    fill: #ffffff !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn:hover .tox-icon {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn:hover .tox-icon svg {
    fill: #ffffff !important;
}

/* Светлая тема для всплывающих панелей */
[data-theme="light"] .tox .tox-pop__dialog {
    background: #ffffff !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn {
    background: #f8f9fa !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: #28a745 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn .tox-icon {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn .tox-icon svg {
    fill: #212529 !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn:hover .tox-icon {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn:hover .tox-icon svg {
    fill: #212529 !important;
}

/* Стили для отключенных кнопок во всплывающих панелях */
.tox .tox-pop__dialog .tox-tbtn--disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
    background: var(--button-bg) !important;
    border-color: var(--border-color) !important;
}

.tox .tox-pop__dialog .tox-tbtn--disabled .tox-icon {
    color: #6c757d !important;
}

.tox .tox-pop__dialog .tox-tbtn--disabled .tox-icon svg {
    fill: #6c757d !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn--disabled {
    background: #3d3d3d !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn--disabled .tox-icon {
    color: #adb5bd !important;
}

[data-theme="dark"] .tox .tox-pop__dialog .tox-tbtn--disabled .tox-icon svg {
    fill: #adb5bd !important;
}

[data-theme="light"] .tox .tox-pop__dialog .tox-tbtn--disabled {
    background: #f8f9fa !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
}

/* Стили для автоматического скрытия всплывающих панелей */
.tox .tox-pop__dialog--hidden {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    transition: opacity 0.2s ease, visibility 0.2s ease !important;
}

.tox .tox-pop__dialog {
    transition: opacity 0.2s ease, visibility 0.2s ease !important;
}

/* Скрываем всплывающие панели инструментов при открытии редактора */
.tox .tox-pop {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

.tox .tox-pop__dialog {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Скрываем быстрые панели инструментов */
.tox .tox-pop[data-alloy-placement] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Стили для всплывающих подсказок */
.tox .tox-tooltip {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
    border-radius: 4px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
    font-size: 12px !important;
    padding: 6px 8px !important;
    z-index: 10000 !important;
}

.tox .tox-tooltip__body {
    color: #212529 !important;
    background: transparent !important;
}

.tox .tox-tooltip__arrow {
    border-color: rgba(0, 0, 0, 0.2) !important;
}

/* Темная тема для подсказок */
[data-theme="dark"] .tox .tox-tooltip {
    background: #2d2d2d !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .tox .tox-tooltip__body {
    color: #ffffff !important;
    background: transparent !important;
}

[data-theme="dark"] .tox .tox-tooltip__arrow {
    border-color: rgba(255, 255, 255, 0.2) !important;
}

/* Светлая тема для подсказок */
[data-theme="light"] .tox .tox-tooltip {
    background: #ffffff !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

[data-theme="light"] .tox .tox-tooltip__body {
    color: #212529 !important;
    background: transparent !important;
}

[data-theme="light"] .tox .tox-tooltip__arrow {
    border-color: rgba(0, 0, 0, 0.2) !important;
}

/* Дополнительные стили для обеспечения видимости подсказок */
.tox .tox-tooltip * {
    color: inherit !important;
    background: transparent !important;
}

[data-theme="dark"] .tox .tox-tooltip * {
    color: #ffffff !important;
    background: transparent !important;
}

[data-theme="light"] .tox .tox-tooltip * {
    color: #212529 !important;
    background: transparent !important;
}

/* Стили для всех всплывающих элементов с текстом */
.tox .tox-pop,
.tox .tox-collection,
.tox .tox-menu {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.tox .tox-pop *,
.tox .tox-collection *,
.tox .tox-menu * {
    color: #212529 !important;
    background: transparent !important;
}

/* Темная тема для всех всплывающих элементов */
[data-theme="dark"] .tox .tox-pop,
[data-theme="dark"] .tox .tox-collection,
[data-theme="dark"] .tox .tox-menu {
    background: #2d2d2d !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .tox .tox-pop *,
[data-theme="dark"] .tox .tox-collection *,
[data-theme="dark"] .tox .tox-menu * {
    color: #ffffff !important;
    background: transparent !important;
}

/* Светлая тема для всех всплывающих элементов */
[data-theme="light"] .tox .tox-pop,
[data-theme="light"] .tox .tox-collection,
[data-theme="light"] .tox .tox-menu {
    background: #ffffff !important;
    border-color: rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

[data-theme="light"] .tox .tox-pop *,
[data-theme="light"] .tox .tox-collection *,
[data-theme="light"] .tox .tox-menu * {
    color: #212529 !important;
    background: transparent !important;
}

/* Дополнительные правила для быстрых панелей - удалены для восстановления подсказок */

/* Кнопки в диалогах */
.tox .tox-button {
    background: #28a745 !important;
    color: #ffffff !important;
    border: none !important;
    border-radius: 4px !important;
    padding: 8px 16px !important;
    transition: all 0.2s ease !important;
}

.tox .tox-button:hover {
    background: #218838 !important;
    opacity: 0.9 !important;
}

.tox .tox-button--secondary {
    background: transparent !important;
    color: var(--text-color) !important;
    border: 1px solid var(--border-color) !important;
}

.tox .tox-button--secondary:hover {
    background: var(--button-hover) !important;
    border-color: #28a745 !important;
}

/* Поля ввода */
.tox .tox-textfield,
.tox .tox-textarea {
    background: var(--input-bg) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
    border-radius: 4px !important;
}

.tox .tox-textfield:focus,
.tox .tox-textarea:focus {
    border-color: #28a745 !important;
    outline: none !important;
    box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.2) !important;
}

/* Статусная строка */
.tox .tox-statusbar {
    background: transparent !important;
    border-top: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
}

/* Убираем все тени и градиенты */
.tox * {
    box-shadow: none !important;
    background-image: none !important;
}

/* Адаптивные стили */
@media (max-width: 768px) {
    /* Тулбар в одну строку с горизонтальной прокруткой */
    .tox .tox-toolbar {
        padding: 4px 0 !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        white-space: nowrap !important;
        display: flex !important;
        flex-wrap: nowrap !important;
        -webkit-overflow-scrolling: touch !important;
        scrollbar-width: thin !important;
    }
    
    .tox .tox-toolbar::-webkit-scrollbar {
        height: 4px !important;
    }
    
    .tox .tox-toolbar::-webkit-scrollbar-track {
        background: transparent !important;
    }
    
    .tox .tox-toolbar::-webkit-scrollbar-thumb {
        background: var(--border-color) !important;
        border-radius: 2px !important;
    }
    
    .tox .tox-toolbar::-webkit-scrollbar-thumb:hover {
        background: var(--primary-color) !important;
    }
    
    /* Группы кнопок в одну строку */
    .tox .tox-toolbar__group {
        margin: 0 2px !important;
        display: inline-flex !important;
        flex-shrink: 0 !important;
        white-space: nowrap !important;
    }
    
    /* Кнопки тулбара */
    .tox .tox-tbtn {
        padding: 4px 6px !important;
        margin: 0 1px !important;
        font-size: 12px !important;
        flex-shrink: 0 !important;
        white-space: nowrap !important;
    }
    
    /* Убираем перенос строк в тулбаре */
    .tox .tox-toolbar__primary {
        display: flex !important;
        flex-wrap: nowrap !important;
        overflow-x: auto !important;
        overflow-y: hidden !important;
        white-space: nowrap !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* Скрываем разделители между группами на мобильных */
    .tox .tox-toolbar__group::after {
        display: none !important;
    }
    
    /* Дополнительные оптимизации для мобильных */
    .tox .tox-tinymce {
        /* Улучшаем производительность */
        will-change: transform;
        transform: translateZ(0);
        backface-visibility: hidden;
    }
    
    /* Оптимизируем скролл в редакторе */
    .tox .tox-edit-area iframe {
        -webkit-overflow-scrolling: touch !important;
        overscroll-behavior: contain !important;
    }
    
    /* Улучшаем touch для кнопок */
    .tox .tox-tbtn {
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
        min-height: 36px !important;
        min-width: 36px !important;
    }
    
    /* Убираем hover эффекты на touch устройствах */
    .tox .tox-tbtn:hover {
        background: transparent !important;
    }
    
    .tox .tox-tbtn:active {
        background: var(--button-hover) !important;
        transform: scale(0.95) !important;
    }
}

/* Специальные стили для split-кнопок */
.tox .tox-split-button .tox-tbtn {
    background: transparent !important;
}

.tox .tox-split-button__chevron {
    background: transparent !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron svg {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-split-button__chevron svg {
    fill: #212529 !important;
}

/* Стили для отключенных кнопок */
.tox .tox-tbtn:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
}

/* Стили для активных состояний */
.tox .tox-tbtn--active {
    background: #28a745 !important;
    color: #ffffff !important;
}

.tox .tox-tbtn--active .tox-icon,
.tox .tox-tbtn--active svg {
    fill: #ffffff !important;
}

/* Стили для выпадающих списков */
.tox .tox-listboxfield .tox-listbox--select {
    background: var(--input-bg) !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
}

.tox .tox-listboxfield .tox-listbox--select:hover {
    border-color: #28a745 !important;
}

/* Стили для цветовых палитр */
.tox .tox-swatch {
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .tox .tox-swatch {
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
}

[data-theme="light"] .tox .tox-swatch {
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

.tox .tox-swatch:hover {
    border-color: #28a745 !important;
    transform: scale(1.1) !important;
}

/* Стили для палитры цветов */
.tox .tox-swatch__grid {
    background: var(--modal-bg) !important;
    border: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .tox .tox-swatch__grid {
    background: #2d2d2d !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="light"] .tox .tox-swatch__grid {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

/* Стили для кнопок цветовой палитры */
.tox .tox-swatch__select-btn {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .tox .tox-swatch__select-btn {
    background: transparent !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox .tox-swatch__select-btn {
    background: transparent !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
}

.tox .tox-swatch__select-btn:hover {
    background: var(--button-hover) !important;
    border-color: #28a745 !important;
}

/* Стили для стрелок цветовых палитр */
[data-theme="dark"] .tox .tox-swatch__select-btn svg,
[data-theme="dark"] .tox .tox-swatch__select-btn .tox-icon {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-swatch__select-btn:hover svg,
[data-theme="dark"] .tox .tox-swatch__select-btn:hover .tox-icon {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox .tox-swatch__select-btn svg,
[data-theme="light"] .tox .tox-swatch__select-btn .tox-icon {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-swatch__select-btn:hover svg,
[data-theme="light"] .tox .tox-swatch__select-btn:hover .tox-icon {
    fill: #212529 !important;
    color: #212529 !important;
}

/* Дополнительные стили для стрелок в кнопках цветов */
[data-theme="dark"] .tox .tox-tbtn[aria-label*="color"] svg,
[data-theme="dark"] .tox .tox-tbtn[aria-label*="Color"] svg,
[data-theme="dark"] .tox .tox-tbtn[title*="color"] svg,
[data-theme="dark"] .tox .tox-tbtn[title*="Color"] svg {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-tbtn[aria-label*="color"] svg,
[data-theme="light"] .tox .tox-tbtn[aria-label*="Color"] svg,
[data-theme="light"] .tox .tox-tbtn[title*="color"] svg,
[data-theme="light"] .tox .tox-tbtn[title*="Color"] svg {
    fill: #212529 !important;
}

/* Стили для split-кнопок и их стрелок */
[data-theme="dark"] .tox .tox-split-button__chevron {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron svg path {
    fill: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron:hover {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron:hover svg {
    fill: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron:hover svg path {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-split-button__chevron {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron svg path {
    fill: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron:hover svg {
    fill: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron:hover svg path {
    fill: #212529 !important;
}

/* Принудительные стили для переопределения inline стилей */
[data-theme="dark"] .tox .tox-split-button__chevron[style*="color: rgb(255, 255, 255)"] {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron[style*="color: rgb(255, 255, 255)"] svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron[style*="color: rgb(255, 255, 255)"] svg path {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-split-button__chevron[style*="color: rgb(33, 37, 41)"] {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron[style*="color: rgb(33, 37, 41)"] svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron[style*="color: rgb(33, 37, 41)"] svg path {
    fill: #212529 !important;
}

/* Дополнительные селекторы для максимальной специфичности */
[data-theme="dark"] .tox .tox-toolbar .tox .tox-split-button__chevron {
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-toolbar .tox .tox-split-button__chevron svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-toolbar .tox .tox-split-button__chevron svg path {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-toolbar .tox .tox-split-button__chevron {
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-toolbar .tox .tox-split-button__chevron svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-toolbar .tox .tox-split-button__chevron svg path {
    fill: #212529 !important;
}

/* Скрываем стрелки split button */
.tox .tox-split-button__chevron {
    display: none !important;
}

/* Убираем отступы у split button, так как нет стрелки */
.tox .tox-split-button {
    display: flex !important;
    align-items: center !important;
}

.tox .tox-split-button .tox-tbtn:first-child {
    border-radius: 4px !important;
    border-top-right-radius: 4px !important;
    border-bottom-right-radius: 4px !important;
}

/* Максимально агрессивные стили для переопределения inline стилей */
[data-theme="dark"] .tox .tox-split-button__chevron,
[data-theme="dark"] .tox .tox-split-button__chevron * {
    color: #ffffff !important;
    fill: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron svg,
[data-theme="dark"] .tox .tox-split-button__chevron svg * {
    color: #ffffff !important;
    fill: #ffffff !important;
}

[data-theme="dark"] .tox .tox-split-button__chevron path,
[data-theme="dark"] .tox .tox-split-button__chevron svg path {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox .tox-split-button__chevron,
[data-theme="light"] .tox .tox-split-button__chevron * {
    color: #212529 !important;
    fill: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron svg,
[data-theme="light"] .tox .tox-split-button__chevron svg * {
    color: #212529 !important;
    fill: #212529 !important;
}

[data-theme="light"] .tox .tox-split-button__chevron path,
[data-theme="light"] .tox .tox-split-button__chevron svg path {
    fill: #212529 !important;
    color: #212529 !important;
}

/* Дополнительные селекторы для максимальной специфичности */
[data-theme="dark"] .tox-tinymce .tox .tox-split-button__chevron,
[data-theme="dark"] .tox-tinymce .tox .tox-split-button__chevron *,
[data-theme="dark"] .tox-tinymce .tox .tox-split-button__chevron svg,
[data-theme="dark"] .tox-tinymce .tox .tox-split-button__chevron svg *,
[data-theme="dark"] .tox-tinymce .tox .tox-split-button__chevron path {
    color: #ffffff !important;
    fill: #ffffff !important;
}

[data-theme="light"] .tox-tinymce .tox .tox-split-button__chevron,
[data-theme="light"] .tox-tinymce .tox .tox-split-button__chevron *,
[data-theme="light"] .tox-tinymce .tox .tox-split-button__chevron svg,
[data-theme="light"] .tox-tinymce .tox .tox-split-button__chevron svg *,
[data-theme="light"] .tox-tinymce .tox .tox-split-button__chevron path {
    color: #212529 !important;
    fill: #212529 !important;
}

/* Дополнительные стили для всех стрелок в кнопках */
[data-theme="dark"] .tox .tox-tbtn svg,
[data-theme="dark"] .tox .tox-tbtn .tox-icon {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn svg path {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-tbtn svg,
[data-theme="light"] .tox .tox-tbtn .tox-icon {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn svg path {
    fill: #212529 !important;
}

/* Стили для кастомной иконки iframe */
[data-theme="dark"] .tox .tox-tbtn[data-alloy-tabstop="true"] svg {
    fill: #ffffff !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-tbtn[data-alloy-tabstop="true"] svg path {
    fill: #ffffff !important;
}

[data-theme="light"] .tox .tox-tbtn[data-alloy-tabstop="true"] svg {
    fill: #212529 !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-tbtn[data-alloy-tabstop="true"] svg path {
    fill: #212529 !important;
}

/* Дополнительные стили для иконки iframe */
.tox .tox-tbtn[title*="видео"] svg,
.tox .tox-tbtn[title*="video"] svg,
.tox .tox-tbtn[title*="Video"] svg {
    fill: currentColor !important;
}

.tox .tox-tbtn[title*="видео"] svg path,
.tox .tox-tbtn[title*="video"] svg path,
.tox .tox-tbtn[title*="Video"] svg path {
    fill: currentColor !important;
}

/* Стили для полей ввода цвета */
.tox .tox-textfield[type="color"] {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
}

[data-theme="dark"] .tox .tox-textfield[type="color"] {
    background: transparent !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox .tox-textfield[type="color"] {
    background: transparent !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    color: #212529 !important;
}

/* Дополнительные стили для содержимого редактора */
.tox-edit-area iframe {
    background: transparent !important;
}

/* ===== УЛУЧШЕННАЯ АДАПТИВНОСТЬ ТЕКСТА В РЕДАКТОРЕ ===== */

/* Базовые стили для содержимого редактора */
.tox-edit-area iframe body {
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    line-height: 1.6 !important;
    font-size: 16px !important;
    transition: all 0.3s ease !important;
    text-align: left !important;
}

/* Выравнивание по умолчанию для элементов без явного выравнивания в редакторе */
.tox-edit-area iframe body p:not([style*="text-align"]),
.tox-edit-area iframe body div:not([style*="text-align"]),
.tox-edit-area iframe body span:not([style*="text-align"]),
.tox-edit-area iframe body h1:not([style*="text-align"]),
.tox-edit-area iframe body h2:not([style*="text-align"]),
.tox-edit-area iframe body h3:not([style*="text-align"]),
.tox-edit-area iframe body h4:not([style*="text-align"]),
.tox-edit-area iframe body h5:not([style*="text-align"]),
.tox-edit-area iframe body h6:not([style*="text-align"]) {
    text-align: left;
}

/* ===== ТЕМНАЯ ТЕМА ===== */
[data-theme="dark"] .tox-edit-area iframe body {
    background: transparent !important;
    color: #ffffff !important;
    font-weight: 400 !important;
}

[data-theme="dark"] .tox-edit-area iframe body * {
    color: #ffffff !important;
}

/* Заголовки в темной теме */
[data-theme="dark"] .tox-edit-area iframe body h1,
[data-theme="dark"] .tox-edit-area iframe body h2,
[data-theme="dark"] .tox-edit-area iframe body h3,
[data-theme="dark"] .tox-edit-area iframe body h4,
[data-theme="dark"] .tox-edit-area iframe body h5,
[data-theme="dark"] .tox-edit-area iframe body h6 {
    color: #ffffff !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .tox-edit-area iframe body h1 {
    color: #aefc6e !important;
    font-size: 2.2em !important;
    border-bottom: 2px solid #aefc6e !important;
    padding-bottom: 8px !important;
}

[data-theme="dark"] .tox-edit-area iframe body h2 {
    color: #aefc6e !important;
    font-size: 1.7em !important;
    border-bottom: 1px solid #aefc6e !important;
    padding-bottom: 6px !important;
}

[data-theme="dark"] .tox-edit-area iframe body h3 {
    color: #ffffff !important;
    font-size: 1.4em !important;
}

/* Параграфы и текст в темной теме */
[data-theme="dark"] .tox-edit-area iframe body p,
[data-theme="dark"] .tox-edit-area iframe body div,
[data-theme="dark"] .tox-edit-area iframe body span {
    color: #ffffff !important;
    line-height: 1.7 !important;
}

/* Ссылки в темной теме */
[data-theme="dark"] .tox-edit-area iframe body a {
    color: #aefc6e !important;
    text-decoration: underline !important;
    font-weight: 500 !important;
    transition: color 0.2s ease !important;
}

[data-theme="dark"] .tox-edit-area iframe body a:hover {
    color: #8dd85a !important;
}

/* Списки в темной теме */
[data-theme="dark"] .tox-edit-area iframe body li {
    color: #ffffff !important;
    line-height: 1.6 !important;
}

[data-theme="dark"] .tox-edit-area iframe body ul {
    color: #ffffff !important;
}

[data-theme="dark"] .tox-edit-area iframe body ol {
    color: #ffffff !important;
}

/* Таблицы в темной теме */
[data-theme="dark"] .tox-edit-area iframe body table {
    border-collapse: collapse !important;
    background: #000000 !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    border: 2px solid #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    /* Убираем стили листа тетради для таблиц */
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

[data-theme="dark"] .tox-edit-area iframe body td,
[data-theme="dark"] .tox-edit-area iframe body th {
    color: #ffffff !important;
    border: 1px solid #ffffff !important;
    padding: 12px 16px !important;
    background: #000000 !important;
    transition: all 0.2s ease !important;
    /* Убираем стили листа тетради для ячеек */
    background-image: none !important;
}

[data-theme="dark"] .tox-edit-area iframe body td:hover,
[data-theme="dark"] .tox-edit-area iframe body th:hover {
    background: rgba(255, 255, 255, 0.08) !important;
    border-color: #aefc6e !important;
}

[data-theme="dark"] .tox-edit-area iframe body th {
    background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
    color: #000000 !important;
    font-weight: 600 !important;
    border: 1px solid #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] .tox-edit-area iframe body th:hover {
    background: linear-gradient(135deg, #9ce55a 0%, #8dd85a 100%) !important;
    border-color: #ffffff !important;
}

/* Код в темной теме */
[data-theme="dark"] .tox-edit-area iframe body code {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
    padding: 3px 8px !important;
    border-radius: 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .tox-edit-area iframe body pre {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
    padding: 16px !important;
    border-radius: 6px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    overflow-x: auto !important;
}

/* Цитаты в темной теме */
[data-theme="dark"] .tox-edit-area iframe body blockquote {
    border-left: 4px solid #aefc6e !important;
    background: rgba(255, 255, 255, 0.05) !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 6px 6px 0 !important;
    font-style: italic !important;
    color: #ffffff !important;
}

/* Выделение текста в темной теме */
[data-theme="dark"] .tox-edit-area iframe body ::selection {
    background: #aefc6e !important;
    color: #000000 !important;
}

[data-theme="dark"] .tox-edit-area iframe body ::-moz-selection {
    background: #aefc6e !important;
    color: #000000 !important;
}

/* Placeholder в темной теме */
[data-theme="dark"] .tox-edit-area iframe body::before {
    color: #888888 !important;
}

/* ===== СВЕТЛАЯ ТЕМА ===== */
[data-theme="light"] .tox-edit-area iframe body {
    background: transparent !important;
    color: #212529 !important;
    font-weight: 400 !important;
}

[data-theme="light"] .tox-edit-area iframe body * {
    color: #212529 !important;
}

/* Заголовки в светлой теме */
[data-theme="light"] .tox-edit-area iframe body h1,
[data-theme="light"] .tox-edit-area iframe body h2,
[data-theme="light"] .tox-edit-area iframe body h3,
[data-theme="light"] .tox-edit-area iframe body h4,
[data-theme="light"] .tox-edit-area iframe body h5,
[data-theme="light"] .tox-edit-area iframe body h6 {
    color: #212529 !important;
    font-weight: 600 !important;
}

[data-theme="light"] .tox-edit-area iframe body h1 {
    color: #28a745 !important;
    font-size: 2.2em !important;
    border-bottom: 2px solid #28a745 !important;
    padding-bottom: 8px !important;
}

[data-theme="light"] .tox-edit-area iframe body h2 {
    color: #28a745 !important;
    font-size: 1.7em !important;
    border-bottom: 1px solid #28a745 !important;
    padding-bottom: 6px !important;
}

[data-theme="light"] .tox-edit-area iframe body h3 {
    color: #212529 !important;
    font-size: 1.4em !important;
}

/* Параграфы и текст в светлой теме */
[data-theme="light"] .tox-edit-area iframe body p,
[data-theme="light"] .tox-edit-area iframe body div,
[data-theme="light"] .tox-edit-area iframe body span {
    color: #212529 !important;
    line-height: 1.7 !important;
}

/* Ссылки в светлой теме */
[data-theme="light"] .tox-edit-area iframe body a {
    color: #28a745 !important;
    text-decoration: underline !important;
    font-weight: 500 !important;
    transition: color 0.2s ease !important;
}

[data-theme="light"] .tox-edit-area iframe body a:hover {
    color: #218838 !important;
}

/* Списки в светлой теме */
[data-theme="light"] .tox-edit-area iframe body li {
    color: #212529 !important;
    line-height: 1.6 !important;
}

[data-theme="light"] .tox-edit-area iframe body ul {
    color: #212529 !important;
}

[data-theme="light"] .tox-edit-area iframe body ol {
    color: #212529 !important;
}

/* Таблицы в светлой теме */
[data-theme="light"] .tox-edit-area iframe body table {
    border-collapse: collapse !important;
    background: #ffffff !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    border: 2px solid #000000 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

[data-theme="light"] .tox-edit-area iframe body td,
[data-theme="light"] .tox-edit-area iframe body th {
    color: #000000 !important;
    border: 1px solid #000000 !important;
    padding: 12px 16px !important;
    background: #ffffff !important;
    transition: all 0.2s ease !important;
    background-image: none !important;
}

[data-theme="light"] .tox-edit-area iframe body th {
    background: #28a745 !important;
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Код в светлой теме */
[data-theme="light"] .tox-edit-area iframe body code {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
    padding: 3px 8px !important;
    border-radius: 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    border: 1px solid #dee2e6 !important;
}

[data-theme="light"] .tox-edit-area iframe body pre {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
    padding: 16px !important;
    border-radius: 6px !important;
    border: 1px solid #dee2e6 !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    overflow-x: auto !important;
}

/* Цитаты в светлой теме */
[data-theme="light"] .tox-edit-area iframe body blockquote {
    border-left: 4px solid #28a745 !important;
    background: #f8f9fa !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 6px 6px 0 !important;
    font-style: italic !important;
    color: #212529 !important;
}

/* Выделение текста в светлой теме */
[data-theme="light"] .tox-edit-area iframe body ::selection {
    background: #28a745 !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body ::-moz-selection {
    background: #28a745 !important;
    color: #ffffff !important;
}

/* Placeholder в светлой теме */
[data-theme="light"] .tox-edit-area iframe body::before {
    color: #6c757d !important;
}

/* ===== ДОПОЛНИТЕЛЬНЫЕ СТИЛИ ДЛЯ УЛУЧШЕНИЯ АДАПТИВНОСТИ ===== */

/* Стили для форматированного текста */
[data-theme="dark"] .tox-edit-area iframe body strong,
[data-theme="dark"] .tox-edit-area iframe body b {
    color: #ffffff !important;
    font-weight: 600 !important;
}

[data-theme="light"] .tox-edit-area iframe body strong,
[data-theme="light"] .tox-edit-area iframe body b {
    color: #212529 !important;
    font-weight: 600 !important;
}

/* Стили для курсива */
[data-theme="dark"] .tox-edit-area iframe body em,
[data-theme="dark"] .tox-edit-area iframe body i {
    color: #ffffff !important;
    font-style: italic !important;
}

[data-theme="light"] .tox-edit-area iframe body em,
[data-theme="light"] .tox-edit-area iframe body i {
    color: #212529 !important;
    font-style: italic !important;
}

/* Стили для подчеркнутого текста */
[data-theme="dark"] .tox-edit-area iframe body u {
    color: #aefc6e !important;
    text-decoration: underline !important;
}

[data-theme="light"] .tox-edit-area iframe body u {
    color: #28a745 !important;
    text-decoration: underline !important;
}

/* Стили для зачеркнутого текста */
[data-theme="dark"] .tox-edit-area iframe body s,
[data-theme="dark"] .tox-edit-area iframe body strike {
    color: #888888 !important;
    text-decoration: line-through !important;
}

[data-theme="light"] .tox-edit-area iframe body s,
[data-theme="light"] .tox-edit-area iframe body strike {
    color: #6c757d !important;
    text-decoration: line-through !important;
}

/* Стили для выделенного текста (mark) */
[data-theme="dark"] .tox-edit-area iframe body mark {
    background: #aefc6e !important;
    color: #000000 !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
}

[data-theme="light"] .tox-edit-area iframe body mark {
    background: #ffdd44 !important;
    color: #333333 !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
}

/* Стили для верхнего и нижнего индекса */
[data-theme="dark"] .tox-edit-area iframe body sup {
    color: #ffffff !important;
    font-size: 0.75em !important;
    vertical-align: super !important;
}

[data-theme="dark"] .tox-edit-area iframe body sub {
    color: #ffffff !important;
    font-size: 0.75em !important;
    vertical-align: sub !important;
}

[data-theme="light"] .tox-edit-area iframe body sup {
    color: #212529 !important;
    font-size: 0.75em !important;
    vertical-align: super !important;
}

[data-theme="light"] .tox-edit-area iframe body sub {
    color: #212529 !important;
    font-size: 0.75em !important;
    vertical-align: sub !important;
}

/* Стили для горизонтальных линий */
[data-theme="dark"] .tox-edit-area iframe body hr {
    border: none !important;
    height: 1px !important;
    background: linear-gradient(90deg, transparent, #aefc6e, transparent) !important;
    margin: 24px 0 !important;
}

[data-theme="light"] .tox-edit-area iframe body hr {
    border: none !important;
    height: 1px !important;
    background: linear-gradient(90deg, transparent, #28a745, transparent) !important;
    margin: 24px 0 !important;
}

/* Стили для изображений */
[data-theme="dark"] .tox-edit-area iframe body img {
    max-width: 100% !important;
    max-height: 250px !important;
    width: auto !important;
    height: auto !important;
    object-fit: contain !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    display: block !important;
    margin: 10px auto !important;
}

[data-theme="light"] .tox-edit-area iframe body img {
    max-width: 100% !important;
    max-height: 250px !important;
    width: auto !important;
    height: auto !important;
    object-fit: contain !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #dee2e6 !important;
    display: block !important;
    margin: 10px auto !important;
}

/* Стили для видео */
[data-theme="dark"] .tox-edit-area iframe body video {
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="light"] .tox-edit-area iframe body video {
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #dee2e6 !important;
}

/* Стили для iframe */
[data-theme="dark"] .tox-edit-area iframe body iframe {
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="light"] .tox-edit-area iframe body iframe {
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #dee2e6 !important;
}

/* Стили для деталей (details/summary) */
[data-theme="dark"] .tox-edit-area iframe body details {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 8px !important;
    margin: 16px 0 !important;
}

[data-theme="dark"] .tox-edit-area iframe body summary {
    background: #aefc6e !important;
    color: #000000 !important;
    padding: 12px 16px !important;
    cursor: pointer !important;
    font-weight: 600 !important;
    border-radius: 8px 8px 0 0 !important;
}

[data-theme="light"] .tox-edit-area iframe body details {
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    margin: 16px 0 !important;
}

[data-theme="light"] .tox-edit-area iframe body summary {
    background: #28a745 !important;
    color: #ffffff !important;
    padding: 12px 16px !important;
    cursor: pointer !important;
    font-weight: 600 !important;
    border-radius: 8px 8px 0 0 !important;
}

/* Стили для адресов */
[data-theme="dark"] .tox-edit-area iframe body address {
    background: rgba(255, 255, 255, 0.05) !important;
    border-left: 4px solid #aefc6e !important;
    padding: 12px 16px !important;
    margin: 16px 0 !important;
    font-style: italic !important;
    color: #ffffff !important;
    border-radius: 0 4px 4px 0 !important;
}

[data-theme="light"] .tox-edit-area iframe body address {
    background: #f8f9fa !important;
    border-left: 4px solid #28a745 !important;
    padding: 12px 16px !important;
    margin: 16px 0 !important;
    font-style: italic !important;
    color: #212529 !important;
    border-radius: 0 4px 4px 0 !important;
}

/* Стили для времени */
[data-theme="dark"] .tox-edit-area iframe body time {
    color: #aefc6e !important;
    font-weight: 500 !important;
}

[data-theme="light"] .tox-edit-area iframe body time {
    color: #28a745 !important;
    font-weight: 500 !important;
}

/* Стили для данных */
[data-theme="dark"] .tox-edit-area iframe body data {
    color: #aefc6e !important;
    font-weight: 500 !important;
}

[data-theme="light"] .tox-edit-area iframe body data {
    color: #28a745 !important;
    font-weight: 500 !important;
}

/* Стили для аббревиатур */
[data-theme="dark"] .tox-edit-area iframe body abbr {
    border-bottom: 1px dotted #aefc6e !important;
    cursor: help !important;
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body abbr {
    border-bottom: 1px dotted #28a745 !important;
    cursor: help !important;
    color: #212529 !important;
}

/* Стили для определений */
[data-theme="dark"] .tox-edit-area iframe body dfn {
    color: #aefc6e !important;
    font-style: italic !important;
}

[data-theme="light"] .tox-edit-area iframe body dfn {
    color: #28a745 !important;
    font-style: italic !important;
}

/* Стили для переменных */
[data-theme="dark"] .tox-edit-area iframe body var {
    color: #aefc6e !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    font-style: italic !important;
}

[data-theme="light"] .tox-edit-area iframe body var {
    color: #28a745 !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    font-style: italic !important;
}

/* Стили для образца вывода */
[data-theme="dark"] .tox-edit-area iframe body samp {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
}

[data-theme="light"] .tox-edit-area iframe body samp {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
}

/* Стили для клавиатурных сокращений */
[data-theme="dark"] .tox-edit-area iframe body kbd {
    background: rgba(255, 255, 255, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 3px !important;
    color: #ffffff !important;
    padding: 2px 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    font-size: 0.9em !important;
    font-weight: 600 !important;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2) !important;
}

[data-theme="light"] .tox-edit-area iframe body kbd {
    background: rgba(0, 0, 0, 0.05) !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 3px !important;
    color: #212529 !important;
    padding: 2px 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    font-size: 0.9em !important;
    font-weight: 600 !important;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2) !important;
}

/* Стили для цитат */
[data-theme="dark"] .tox-edit-area iframe body q {
    color: #aefc6e !important;
    font-style: italic !important;
}

[data-theme="dark"] .tox-edit-area iframe body q::before {
    content: '"' !important;
}

[data-theme="dark"] .tox-edit-area iframe body q::after {
    content: '"' !important;
}

[data-theme="light"] .tox-edit-area iframe body q {
    color: #28a745 !important;
    font-style: italic !important;
}

[data-theme="light"] .tox-edit-area iframe body q::before {
    content: '"' !important;
}

[data-theme="light"] .tox-edit-area iframe body q::after {
    content: '"' !important;
}

/* ===== СТИЛИ ДЛЯ ПРЕДПРОСМОТРА ШРИФТОВ И РАЗМЕРОВ ===== */

/* Стили для выпадающих меню шрифтов */
.tox .tox-collection__item {
    font-family: inherit !important;
    font-size: inherit !important;
}

/* Предпросмотр шрифтов в выпадающем меню */
.tox .tox-collection__item[data-value] {
    font-family: var(--font-family, inherit) !important;
}

/* Специальные стили для предпросмотра шрифтов */
.tox .tox-collection__item[data-value="Arial"] {
    font-family: Arial, sans-serif !important;
}

.tox .tox-collection__item[data-value="Times New Roman"] {
    font-family: "Times New Roman", serif !important;
}

.tox .tox-collection__item[data-value="Courier New"] {
    font-family: "Courier New", monospace !important;
}

.tox .tox-collection__item[data-value="Georgia"] {
    font-family: Georgia, serif !important;
}

.tox .tox-collection__item[data-value="Verdana"] {
    font-family: Verdana, sans-serif !important;
}

.tox .tox-collection__item[data-value="Helvetica"] {
    font-family: Helvetica, sans-serif !important;
}

.tox .tox-collection__item[data-value="Golos Text"] {
    font-family: "Golos Text", sans-serif !important;
}

.tox .tox-collection__item[data-value="Montserrat"] {
    font-family: "Montserrat", sans-serif !important;
}

.tox .tox-collection__item[data-value="Lato"] {
    font-family: "Lato", sans-serif !important;
}

.tox .tox-collection__item[data-value="Open Sans"] {
    font-family: "Open Sans", sans-serif !important;
}

.tox .tox-collection__item[data-value="Roboto"] {
    font-family: "Roboto", sans-serif !important;
}

/* Предпросмотр размеров шрифтов */
.tox .tox-collection__item[data-value="8pt"] {
    font-size: 8pt !important;
}

.tox .tox-collection__item[data-value="9pt"] {
    font-size: 9pt !important;
}

.tox .tox-collection__item[data-value="10pt"] {
    font-size: 10pt !important;
}

.tox .tox-collection__item[data-value="11pt"] {
    font-size: 11pt !important;
}

.tox .tox-collection__item[data-value="12pt"] {
    font-size: 12pt !important;
}

.tox .tox-collection__item[data-value="14pt"] {
    font-size: 14pt !important;
}

.tox .tox-collection__item[data-value="16pt"] {
    font-size: 16pt !important;
}

.tox .tox-collection__item[data-value="18pt"] {
    font-size: 18pt !important;
}

.tox .tox-collection__item[data-value="20pt"] {
    font-size: 20pt !important;
}

.tox .tox-collection__item[data-value="24pt"] {
    font-size: 24pt !important;
}

.tox .tox-collection__item[data-value="28pt"] {
    font-size: 28pt !important;
}

.tox .tox-collection__item[data-value="32pt"] {
    font-size: 32pt !important;
}

.tox .tox-collection__item[data-value="36pt"] {
    font-size: 36pt !important;
}

.tox .tox-collection__item[data-value="48pt"] {
    font-size: 48pt !important;
}

.tox .tox-collection__item[data-value="72pt"] {
    font-size: 72pt !important;
}

/* Стили для темной темы */
[data-theme="dark"] .tox .tox-collection__item {
    color: #ffffff !important;
    background: #2d2d2d !important;
}

[data-theme="dark"] .tox .tox-collection__item:hover {
    background: #404040 !important;
    color: #ffffff !important;
}

[data-theme="dark"] .tox .tox-collection__item--active {
    background: #aefc6e !important;
    color: #000000 !important;
}

/* Стили для светлой темы */
[data-theme="light"] .tox .tox-collection__item {
    color: #212529 !important;
    background: #ffffff !important;
}

[data-theme="light"] .tox .tox-collection__item:hover {
    background: #f8f9fa !important;
    color: #212529 !important;
}

[data-theme="light"] .tox .tox-collection__item--active {
    background: #28a745 !important;
    color: #ffffff !important;
}

/* Стили для выпадающих меню */
.tox .tox-collection {
    background: var(--menu-bg) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 4px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.tox .tox-collection__item {
    padding: 8px 12px !important;
    border-bottom: 1px solid var(--border-color) !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    min-height: 32px !important;
}

.tox .tox-collection__item:last-child {
    border-bottom: none !important;
}

/* Стили для иконок в выпадающих меню */
.tox .tox-collection__item-icon {
    margin-right: 8px !important;
    width: 16px !important;
    height: 16px !important;
}

/* Дополнительные стили для предпросмотра */
.tox .tox-collection__item-text {
    flex: 1 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* Стили для активного элемента */
.tox .tox-collection__item--active .tox-collection__item-text {
    font-weight: 600 !important;
}

/* Стили для разделителей в меню */
.tox .tox-collection__item--separator {
    height: 1px !important;
    background: var(--border-color) !important;
    margin: 4px 0 !important;
    padding: 0 !important;
}

/* Стили для групп в меню */
.tox .tox-collection__item--group {
    font-weight: 600 !important;
    color: var(--text-color) !important;
    background: var(--menu-bg) !important;
    border-bottom: 2px solid var(--border-color) !important;
}

/* Стили для подсказок */
.tox .tox-collection__item--hint {
    font-style: italic !important;
    color: var(--text-color-secondary) !important;
    font-size: 0.9em !important;
}

/* Анимации для выпадающих меню */
.tox .tox-collection {
    animation: fadeIn 0.2s ease-in-out !important;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Стили для мобильных устройств */
@media (max-width: 768px) {
    .tox .tox-collection__item {
        padding: 12px 16px !important;
        min-height: 44px !important;
        font-size: 16px !important;
    }
    
    .tox .tox-collection__item-icon {
        width: 20px !important;
        height: 20px !important;
    }
}

/* Стили для планшетов */
@media (min-width: 769px) and (max-width: 1024px) {
    .tox .tox-collection__item {
        padding: 10px 14px !important;
        min-height: 38px !important;
        font-size: 15px !important;
    }
}

/* Стили для кнопок выбора шрифта и размера */
.tox .tox-listboxfield .tox-listbox--select {
    font-family: inherit !important;
    font-size: inherit !important;
}

/* Предпросмотр в кнопках панели инструментов */
.tox .tox-listboxfield .tox-listbox--select[data-value] {
    font-family: var(--font-family, inherit) !important;
    font-size: var(--font-size, inherit) !important;
}

/* Специальные стили для кнопок шрифтов */
.tox .tox-listboxfield .tox-listbox--select[data-value="Arial"] {
    font-family: Arial, sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Times New Roman"] {
    font-family: "Times New Roman", serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Courier New"] {
    font-family: "Courier New", monospace !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Georgia"] {
    font-family: Georgia, serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Verdana"] {
    font-family: Verdana, sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Helvetica"] {
    font-family: Helvetica, sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Golos Text"] {
    font-family: "Golos Text", sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Montserrat"] {
    font-family: "Montserrat", sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Lato"] {
    font-family: "Lato", sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Open Sans"] {
    font-family: "Open Sans", sans-serif !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="Roboto"] {
    font-family: "Roboto", sans-serif !important;
}

/* Специальные стили для кнопок размеров */
.tox .tox-listboxfield .tox-listbox--select[data-value="8pt"] {
    font-size: 8pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="9pt"] {
    font-size: 9pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="10pt"] {
    font-size: 10pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="11pt"] {
    font-size: 11pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="12pt"] {
    font-size: 12pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="14pt"] {
    font-size: 14pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="16pt"] {
    font-size: 16pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="18pt"] {
    font-size: 18pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="20pt"] {
    font-size: 20pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="24pt"] {
    font-size: 24pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="28pt"] {
    font-size: 28pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="32pt"] {
    font-size: 32pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="36pt"] {
    font-size: 36pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="48pt"] {
    font-size: 48pt !important;
}

.tox .tox-listboxfield .tox-listbox--select[data-value="72pt"] {
    font-size: 72pt !important;
}

/* ===== СТИЛИ ДЛЯ ВЫРАВНИВАНИЯ КУРСОРА ПО ЛИНИЯМ ТЕТРАДИ ===== */

/* Стили для пустых параграфов и курсора */
#editorContainer_ifr body p:empty,
#editorContainer_ifr body div:empty {
    min-height: 25px !important;
    line-height: 25px !important;
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
}

/* Стили для курсора ввода */
#editorContainer_ifr body p:empty::before,
#editorContainer_ifr body div:empty::before {
    content: "" !important;
    display: inline-block !important;
    width: 0 !important;
    height: 25px !important;
    line-height: 25px !important;
}

/* Стили для текстовых элементов с курсором */
#editorContainer_ifr body p,
#editorContainer_ifr body div {
    vertical-align: baseline !important;
    position: relative !important;
}

/* Стили для курсора TinyMCE */
#editorContainer_ifr body .mce-content-body {
    line-height: 25px !important;
    font-size: 16px !important;
}

/* Стили для выделения текста */
#editorContainer_ifr body ::selection {
    background: rgba(174, 252, 110, 0.3) !important;
    color: inherit !important;
}

[data-theme="dark"] #editorContainer_ifr body ::selection {
    background: rgba(174, 252, 110, 0.4) !important;
    color: #ffffff !important;
}

/* Стили для курсора ввода в разных темах */
[data-theme="dark"] #editorContainer_ifr body p:empty,
[data-theme="dark"] #editorContainer_ifr body div:empty {
    background: transparent !important;
}

[data-theme="light"] #editorContainer_ifr body p:empty,
[data-theme="light"] #editorContainer_ifr body div:empty {
    background: transparent !important;
}

/* ===== АДАПТИВНЫЕ СТИЛИ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ ===== */
@media (max-width: 768px) {
    .tox-edit-area iframe body {
        font-size: 14px !important;
        line-height: 1.5 !important;
        padding: 10px !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h1 {
        font-size: 1.8em !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h2 {
        font-size: 1.5em !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h1 {
        font-size: 1.8em !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h2 {
        font-size: 1.5em !important;
    }
    
    .tox-edit-area iframe body table {
        font-size: 12px !important;
    }
    
    .tox-edit-area iframe body td,
    .tox-edit-area iframe body th {
        padding: 8px 12px !important;
    }
}

/* ===== АДАПТИВНЫЕ СТИЛИ ДЛЯ ПЛАНШЕТОВ ===== */
@media (min-width: 769px) and (max-width: 1024px) {
    /* Основные стили редактора для планшетов */
    .tox-edit-area iframe body {
        font-size: 16px !important;
        line-height: 1.7 !important;
        padding: 20px !important;
    }
    
    /* Полноэкранный редактор для планшетов */
    .tox-tinymce {
        height: calc(100vh - 120px) !important;
        border-radius: 0 !important;
    }
    
    .tox-edit-area {
        height: calc(100vh - 200px) !important;
    }
    
    .tox-edit-area__iframe {
        height: 100% !important;
    }
    
    /* Улучшенный тулбар для планшетов */
    .tox .tox-toolbar {
        padding: 8px 12px !important;
        gap: 8px !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
    }
    
    .tox .tox-toolbar__group {
        margin: 4px 6px !important;
    }
    
    .tox .tox-tbtn {
        width: 40px !important;
        height: 40px !important;
        margin: 2px !important;
    }
    
    .tox .tox-tbtn svg {
        width: 18px !important;
        height: 18px !important;
    }
    
    /* Улучшенные кнопки для планшетов */
    .tox .tox-tbtn--enabled {
        background: rgba(174, 252, 110, 0.2) !important;
        border: 1px solid rgba(174, 252, 110, 0.4) !important;
    }
    
    .tox .tox-tbtn:hover {
        background: rgba(174, 252, 110, 0.1) !important;
        transform: scale(1.05) !important;
    }
    
    /* Улучшенное меню для планшетов */
    .tox .tox-menu {
        min-width: 200px !important;
        border-radius: 8px !important;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3) !important;
    }
    
    .tox .tox-collection__item {
        padding: 12px 16px !important;
        font-size: 15px !important;
        min-height: 44px !important;
    }
    
    .tox .tox-collection__item:hover {
        background: rgba(174, 252, 110, 0.1) !important;
    }
    
    /* Улучшенные диалоги для планшетов */
    .tox .tox-dialog {
        width: 90% !important;
        max-width: 600px !important;
        border-radius: 12px !important;
    }
    
    .tox .tox-dialog__header {
        padding: 20px 24px 16px 24px !important;
        border-radius: 12px 12px 0 0 !important;
    }
    
    .tox .tox-dialog__body {
        padding: 20px 24px !important;
    }
    
    .tox .tox-dialog__footer {
        padding: 16px 24px 20px 24px !important;
        border-radius: 0 0 12px 12px !important;
    }
    
    .tox .tox-button {
        min-height: 44px !important;
        padding: 10px 20px !important;
        font-size: 15px !important;
        border-radius: 8px !important;
    }
    
    /* Улучшенные поля ввода для планшетов */
    .tox .tox-textfield,
    .tox .tox-textarea {
        min-height: 44px !important;
        padding: 12px 16px !important;
        font-size: 15px !important;
        border-radius: 8px !important;
    }
    
    .tox .tox-textarea {
        min-height: 120px !important;
    }
    
    /* Улучшенные селекты для планшетов */
    .tox .tox-listboxfield .tox-listbox--select {
        min-height: 44px !important;
        padding: 10px 16px !important;
        font-size: 15px !important;
        border-radius: 8px !important;
    }
    
    /* Улучшенные чекбоксы и радиокнопки для планшетов */
    .tox .tox-checkbox,
    .tox .tox-radio {
        width: 20px !important;
        height: 20px !important;
        margin: 2px 8px 2px 0 !important;
    }
    
    /* Улучшенные лейблы для планшетов */
    .tox .tox-label {
        font-size: 15px !important;
        line-height: 1.5 !important;
        margin-bottom: 8px !important;
    }
    
    /* Улучшенные табы для планшетов */
    .tox .tox-tab {
        min-height: 44px !important;
        padding: 10px 20px !important;
        font-size: 15px !important;
    }
    
    /* Улучшенные панели для планшетов */
    .tox .tox-panel {
        border-radius: 8px !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }
    
    /* Улучшенные уведомления для планшетов */
    .tox .tox-notification {
        border-radius: 8px !important;
        padding: 16px 20px !important;
        font-size: 15px !important;
    }
    
    /* Улучшенные подсказки для планшетов */
    .tox .tox-tooltip {
        font-size: 14px !important;
        padding: 8px 12px !important;
        border-radius: 6px !important;
    }
    
    /* Улучшенные заголовки в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body h1 {
        font-size: 2.2em !important;
        margin: 24px 0 16px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h2 {
        font-size: 1.8em !important;
        margin: 20px 0 14px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h3 {
        font-size: 1.5em !important;
        margin: 18px 0 12px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h1 {
        font-size: 2.2em !important;
        margin: 24px 0 16px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h2 {
        font-size: 1.8em !important;
        margin: 20px 0 14px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h3 {
        font-size: 1.5em !important;
        margin: 18px 0 12px 0 !important;
    }
    
    /* Улучшенные параграфы в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body p,
    [data-theme="light"] .tox-edit-area iframe body p {
        margin-bottom: 16px !important;
        line-height: 1.7 !important;
    }
    
    /* Улучшенные списки в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body ul,
    [data-theme="dark"] .tox-edit-area iframe body ol,
    [data-theme="light"] .tox-edit-area iframe body ul,
    [data-theme="light"] .tox-edit-area iframe body ol {
        padding-left: 24px !important;
        margin: 16px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body li,
    [data-theme="light"] .tox-edit-area iframe body li {
        margin: 8px 0 !important;
        line-height: 1.6 !important;
    }
    
    /* Улучшенные таблицы в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body table,
    [data-theme="light"] .tox-edit-area iframe body table {
        border-collapse: collapse !important;
        width: 100% !important;
        margin: 16px 0 !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body table {
        background: #ffffff !important;
        border: 2px solid #000000 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
        background-image: none !important;
        margin: 20px 0 !important;
        position: relative !important;
        z-index: 10 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body table {
        border: 2px solid #ffffff !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
        background: #000000 !important;
        background-image: none !important;
        margin: 20px 0 !important;
        position: relative !important;
        z-index: 10 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th,
    [data-theme="dark"] .tox-edit-area iframe body td,
    [data-theme="light"] .tox-edit-area iframe body th,
    [data-theme="light"] .tox-edit-area iframe body td {
        padding: 12px 16px !important;
        border: 1px solid #ffffff !important;
        transition: all 0.2s ease !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body td,
    [data-theme="dark"] .tox-edit-area iframe body th {
        background: #000000 !important;
        background-image: none !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body td:hover,
    [data-theme="dark"] .tox-edit-area iframe body th:hover {
        background: rgba(255, 255, 255, 0.08) !important;
        border-color: #aefc6e !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th {
        background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
        border: 1px solid #ffffff !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th:hover {
        background: linear-gradient(135deg, #9ce55a 0%, #8dd85a 100%) !important;
        border-color: #ffffff !important;
        font-size: 15px !important;
    }
    
    /* Улучшенные цитаты в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body blockquote,
    [data-theme="light"] .tox-edit-area iframe body blockquote {
        padding: 20px 24px !important;
        margin: 20px 0 !important;
        border-radius: 0 8px 8px 0 !important;
    }
    
    /* Улучшенный код в редакторе для планшетов */
    [data-theme="dark"] .tox-edit-area iframe body pre,
    [data-theme="light"] .tox-edit-area iframe body pre {
        padding: 20px !important;
        margin: 16px 0 !important;
        border-radius: 8px !important;
        font-size: 14px !important;
        line-height: 1.6 !important;
    }
    
    /* Touch-friendly улучшения для планшетов */
    .tox .tox-tbtn,
    .tox .tox-button,
    .tox .tox-collection__item {
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
    }
    
    /* Улучшенные скроллбары для планшетов */
    .tox .tox-edit-area__iframe::-webkit-scrollbar {
        width: 8px !important;
    }
    
    .tox .tox-edit-area__iframe::-webkit-scrollbar-thumb {
        background: rgba(174, 252, 110, 0.3) !important;
        border-radius: 4px !important;
    }
    
    .tox .tox-edit-area__iframe::-webkit-scrollbar-thumb:hover {
        background: rgba(174, 252, 110, 0.5) !important;
    }
}

/* ===== АДАПТИВНЫЕ СТИЛИ ДЛЯ БОЛЬШИХ ПЛАНШЕТОВ ===== */
@media (min-width: 1025px) and (max-width: 1366px) {
    /* Основные стили редактора для больших планшетов */
    .tox-edit-area iframe body {
        font-size: 17px !important;
        line-height: 1.8 !important;
        padding: 25px !important;
    }
    
    /* Полноэкранный редактор для больших планшетов */
    .tox-tinymce {
        height: calc(100vh - 120px) !important;
        border-radius: 0 !important;
    }
    
    .tox-edit-area {
        height: calc(100vh - 200px) !important;
    }
    
    .tox-edit-area__iframe {
        height: 100% !important;
    }
    
    /* Улучшенный тулбар для больших планшетов */
    .tox .tox-toolbar {
        padding: 10px 15px !important;
        gap: 10px !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
    }
    
    .tox .tox-toolbar__group {
        margin: 5px 8px !important;
    }
    
    .tox .tox-tbtn {
        width: 45px !important;
        height: 45px !important;
        margin: 3px !important;
    }
    
    .tox .tox-tbtn svg {
        width: 20px !important;
        height: 20px !important;
    }
    
    /* Улучшенные кнопки для больших планшетов */
    .tox .tox-tbtn--enabled {
        background: rgba(174, 252, 110, 0.25) !important;
        border: 1px solid rgba(174, 252, 110, 0.5) !important;
    }
    
    .tox .tox-tbtn:hover {
        background: rgba(174, 252, 110, 0.15) !important;
        transform: scale(1.08) !important;
    }
    
    /* Улучшенное меню для больших планшетов */
    .tox .tox-menu {
        min-width: 220px !important;
        border-radius: 10px !important;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35) !important;
    }
    
    .tox .tox-collection__item {
        padding: 14px 18px !important;
        font-size: 16px !important;
        min-height: 48px !important;
    }
    
    .tox .tox-collection__item:hover {
        background: rgba(174, 252, 110, 0.15) !important;
    }
    
    /* Улучшенные диалоги для больших планшетов */
    .tox .tox-dialog {
        width: 85% !important;
        max-width: 700px !important;
        border-radius: 15px !important;
    }
    
    .tox .tox-dialog__header {
        padding: 25px 30px 20px 30px !important;
        border-radius: 15px 15px 0 0 !important;
    }
    
    .tox .tox-dialog__body {
        padding: 25px 30px !important;
    }
    
    .tox .tox-dialog__footer {
        padding: 20px 30px 25px 30px !important;
        border-radius: 0 0 15px 15px !important;
    }
    
    .tox .tox-button {
        min-height: 48px !important;
        padding: 12px 24px !important;
        font-size: 16px !important;
        border-radius: 10px !important;
    }
    
    /* Улучшенные поля ввода для больших планшетов */
    .tox .tox-textfield,
    .tox .tox-textarea {
        min-height: 48px !important;
        padding: 14px 18px !important;
        font-size: 16px !important;
        border-radius: 10px !important;
    }
    
    .tox .tox-textarea {
        min-height: 140px !important;
    }
    
    /* Улучшенные селекты для больших планшетов */
    .tox .tox-listboxfield .tox-listbox--select {
        min-height: 48px !important;
        padding: 12px 18px !important;
        font-size: 16px !important;
        border-radius: 10px !important;
    }
    
    /* Улучшенные чекбоксы и радиокнопки для больших планшетов */
    .tox .tox-checkbox,
    .tox .tox-radio {
        width: 22px !important;
        height: 22px !important;
        margin: 3px 10px 3px 0 !important;
    }
    
    /* Улучшенные лейблы для больших планшетов */
    .tox .tox-label {
        font-size: 16px !important;
        line-height: 1.6 !important;
        margin-bottom: 10px !important;
    }
    
    /* Улучшенные табы для больших планшетов */
    .tox .tox-tab {
        min-height: 48px !important;
        padding: 12px 24px !important;
        font-size: 16px !important;
    }
    
    /* Улучшенные панели для больших планшетов */
    .tox .tox-panel {
        border-radius: 10px !important;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25) !important;
    }
    
    /* Улучшенные уведомления для больших планшетов */
    .tox .tox-notification {
        border-radius: 10px !important;
        padding: 18px 24px !important;
        font-size: 16px !important;
    }
    
    /* Улучшенные подсказки для больших планшетов */
    .tox .tox-tooltip {
        font-size: 15px !important;
        padding: 10px 14px !important;
        border-radius: 8px !important;
    }
    
    /* Улучшенные заголовки в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body h1 {
        font-size: 2.4em !important;
        margin: 28px 0 20px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h2 {
        font-size: 1.9em !important;
        margin: 24px 0 18px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body h3 {
        font-size: 1.6em !important;
        margin: 20px 0 14px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h1 {
        font-size: 2.4em !important;
        margin: 28px 0 20px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h2 {
        font-size: 1.9em !important;
        margin: 24px 0 18px 0 !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body h3 {
        font-size: 1.6em !important;
        margin: 20px 0 14px 0 !important;
    }
    
    /* Улучшенные параграфы в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body p,
    [data-theme="light"] .tox-edit-area iframe body p {
        margin-bottom: 18px !important;
        line-height: 1.8 !important;
    }
    
    /* Улучшенные списки в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body ul,
    [data-theme="dark"] .tox-edit-area iframe body ol,
    [data-theme="light"] .tox-edit-area iframe body ul,
    [data-theme="light"] .tox-edit-area iframe body ol {
        padding-left: 28px !important;
        margin: 18px 0 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body li,
    [data-theme="light"] .tox-edit-area iframe body li {
        margin: 10px 0 !important;
        line-height: 1.7 !important;
    }
    
    /* Улучшенные таблицы в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body table,
    [data-theme="light"] .tox-edit-area iframe body table {
        border-collapse: collapse !important;
        width: 100% !important;
        margin: 18px 0 !important;
        border-radius: 10px !important;
        overflow: hidden !important;
    }
    
    [data-theme="light"] .tox-edit-area iframe body table {
        background: #ffffff !important;
        border: 2px solid #000000 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
        background-image: none !important;
        margin: 20px 0 !important;
        position: relative !important;
        z-index: 10 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body table {
        border: 2px solid #ffffff !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
        background: #000000 !important;
        background-image: none !important;
        margin: 20px 0 !important;
        position: relative !important;
        z-index: 10 !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th,
    [data-theme="dark"] .tox-edit-area iframe body td,
    [data-theme="light"] .tox-edit-area iframe body th,
    [data-theme="light"] .tox-edit-area iframe body td {
        padding: 14px 18px !important;
        border: 1px solid #ffffff !important;
        transition: all 0.2s ease !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body td,
    [data-theme="dark"] .tox-edit-area iframe body th {
        background: #000000 !important;
        background-image: none !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body td:hover,
    [data-theme="dark"] .tox-edit-area iframe body th:hover {
        background: rgba(255, 255, 255, 0.08) !important;
        border-color: #aefc6e !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th {
        background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
        border: 1px solid #ffffff !important;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
    }
    
    [data-theme="dark"] .tox-edit-area iframe body th:hover {
        background: linear-gradient(135deg, #9ce55a 0%, #8dd85a 100%) !important;
        border-color: #ffffff !important;
        font-size: 16px !important;
    }
    
    /* Улучшенные цитаты в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body blockquote,
    [data-theme="light"] .tox-edit-area iframe body blockquote {
        padding: 25px 30px !important;
        margin: 25px 0 !important;
        border-radius: 0 10px 10px 0 !important;
    }
    
    /* Улучшенный код в редакторе для больших планшетов */
    [data-theme="dark"] .tox-edit-area iframe body pre,
    [data-theme="light"] .tox-edit-area iframe body pre {
        padding: 25px !important;
        margin: 18px 0 !important;
        border-radius: 10px !important;
        font-size: 15px !important;
        line-height: 1.7 !important;
    }
    
    /* Touch-friendly улучшения для больших планшетов */
    .tox .tox-tbtn,
    .tox .tox-button,
    .tox .tox-collection__item {
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
    }
    
    /* Улучшенные скроллбары для больших планшетов */
    .tox .tox-edit-area__iframe::-webkit-scrollbar {
        width: 10px !important;
    }
    
    .tox .tox-edit-area__iframe::-webkit-scrollbar-thumb {
        background: rgba(174, 252, 110, 0.4) !important;
        border-radius: 5px !important;
    }
    
    .tox .tox-edit-area__iframe::-webkit-scrollbar-thumb:hover {
        background: rgba(174, 252, 110, 0.6) !important;
    }
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ ПЕРЕОПРЕДЕЛЕНИЯ ===== */

/* Максимально агрессивные стили для темной темы */
[data-theme="dark"] .tox-edit-area iframe body p,
[data-theme="dark"] .tox-edit-area iframe body div,
[data-theme="dark"] .tox-edit-area iframe body span,
[data-theme="dark"] .tox-edit-area iframe body h1,
[data-theme="dark"] .tox-edit-area iframe body h2,
[data-theme="dark"] .tox-edit-area iframe body h3,
[data-theme="dark"] .tox-edit-area iframe body h4,
[data-theme="dark"] .tox-edit-area iframe body h5,
[data-theme="dark"] .tox-edit-area iframe body h6,
[data-theme="dark"] .tox-edit-area iframe body li,
[data-theme="dark"] .tox-edit-area iframe body td,
[data-theme="dark"] .tox-edit-area iframe body th,
[data-theme="dark"] .tox-edit-area iframe body strong,
[data-theme="dark"] .tox-edit-area iframe body b,
[data-theme="dark"] .tox-edit-area iframe body em,
[data-theme="dark"] .tox-edit-area iframe body i,
[data-theme="dark"] .tox-edit-area iframe body u,
[data-theme="dark"] .tox-edit-area iframe body s,
[data-theme="dark"] .tox-edit-area iframe body mark,
[data-theme="dark"] .tox-edit-area iframe body sup,
[data-theme="dark"] .tox-edit-area iframe body sub,
[data-theme="dark"] .tox-edit-area iframe body time,
[data-theme="dark"] .tox-edit-area iframe body data,
[data-theme="dark"] .tox-edit-area iframe body abbr,
[data-theme="dark"] .tox-edit-area iframe body dfn,
[data-theme="dark"] .tox-edit-area iframe body var,
[data-theme="dark"] .tox-edit-area iframe body samp,
[data-theme="dark"] .tox-edit-area iframe body kbd,
[data-theme="dark"] .tox-edit-area iframe body q {
    color: #ffffff !important;
}

/* Максимально агрессивные стили для светлой темы */
[data-theme="light"] .tox-edit-area iframe body p,
[data-theme="light"] .tox-edit-area iframe body div,
[data-theme="light"] .tox-edit-area iframe body span,
[data-theme="light"] .tox-edit-area iframe body h1,
[data-theme="light"] .tox-edit-area iframe body h2,
[data-theme="light"] .tox-edit-area iframe body h3,
[data-theme="light"] .tox-edit-area iframe body h4,
[data-theme="light"] .tox-edit-area iframe body h5,
[data-theme="light"] .tox-edit-area iframe body h6,
[data-theme="light"] .tox-edit-area iframe body li,
[data-theme="light"] .tox-edit-area iframe body td,
[data-theme="light"] .tox-edit-area iframe body th,
[data-theme="light"] .tox-edit-area iframe body strong,
[data-theme="light"] .tox-edit-area iframe body b,
[data-theme="light"] .tox-edit-area iframe body em,
[data-theme="light"] .tox-edit-area iframe body i,
[data-theme="light"] .tox-edit-area iframe body u,
[data-theme="light"] .tox-edit-area iframe body s,
[data-theme="light"] .tox-edit-area iframe body mark,
[data-theme="light"] .tox-edit-area iframe body sup,
[data-theme="light"] .tox-edit-area iframe body sub,
[data-theme="light"] .tox-edit-area iframe body time,
[data-theme="light"] .tox-edit-area iframe body data,
[data-theme="light"] .tox-edit-area iframe body abbr,
[data-theme="light"] .tox-edit-area iframe body dfn,
[data-theme="light"] .tox-edit-area iframe body var,
[data-theme="light"] .tox-edit-area iframe body samp,
[data-theme="light"] .tox-edit-area iframe body kbd,
[data-theme="light"] .tox-edit-area iframe body q {
    color: #212529 !important;
}

/* Дополнительные стили для переопределения любых inline стилей */
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: rgb(33, 37, 41)"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: #212529"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: rgb(33, 37, 41)"] {
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body *[style*="color: rgb(255, 255, 255)"],
[data-theme="light"] .tox-edit-area iframe body *[style*="color: #ffffff"],
[data-theme="light"] .tox-edit-area iframe body *[style*="color: rgb(255, 255, 255)"] {
    color: #212529 !important;
}

/* Стили для переопределения любых margin стилей */
[data-theme="dark"] .tox-edit-area iframe body p[style*="margin"],
[data-theme="dark"] .tox-edit-area iframe body div[style*="margin"],
[data-theme="dark"] .tox-edit-area iframe body span[style*="margin"] {
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body p[style*="margin"],
[data-theme="light"] .tox-edit-area iframe body div[style*="margin"],
[data-theme="light"] .tox-edit-area iframe body span[style*="margin"] {
    color: #212529 !important;
}

/* ===== МАКСИМАЛЬНО АГРЕССИВНЫЕ СТИЛИ ДЛЯ ПЕРЕОПРЕДЕЛЕНИЯ ===== */

/* Переопределяем любые возможные стили для темной темы */
[data-theme="dark"] .tox-edit-area iframe body * {
    color: #ffffff !important;
}

/* Переопределяем любые возможные стили для светлой темы */
[data-theme="light"] .tox-edit-area iframe body * {
    color: #212529 !important;
}

/* Специальные исключения для акцентных элементов в темной теме */
[data-theme="dark"] .tox-edit-area iframe body h1,
[data-theme="dark"] .tox-edit-area iframe body h2,
[data-theme="dark"] .tox-edit-area iframe body a,
[data-theme="dark"] .tox-edit-area iframe body u,
[data-theme="dark"] .tox-edit-area iframe body time,
[data-theme="dark"] .tox-edit-area iframe body data,
[data-theme="dark"] .tox-edit-area iframe body abbr,
[data-theme="dark"] .tox-edit-area iframe body dfn,
[data-theme="dark"] .tox-edit-area iframe body var,
[data-theme="dark"] .tox-edit-area iframe body q {
    color: #aefc6e !important;
}

/* Специальные исключения для акцентных элементов в светлой теме */
[data-theme="light"] .tox-edit-area iframe body h1,
[data-theme="light"] .tox-edit-area iframe body h2,
[data-theme="light"] .tox-edit-area iframe body a,
[data-theme="light"] .tox-edit-area iframe body u,
[data-theme="light"] .tox-edit-area iframe body time,
[data-theme="light"] .tox-edit-area iframe body data,
[data-theme="light"] .tox-edit-area iframe body abbr,
[data-theme="light"] .tox-edit-area iframe body dfn,
[data-theme="light"] .tox-edit-area iframe body var,
[data-theme="light"] .tox-edit-area iframe body q {
    color: #28a745 !important;
}

/* Специальные исключения для зачеркнутого текста */
[data-theme="dark"] .tox-edit-area iframe body s,
[data-theme="dark"] .tox-edit-area iframe body strike {
    color: #888888 !important;
}

[data-theme="light"] .tox-edit-area iframe body s,
[data-theme="light"] .tox-edit-area iframe body strike {
    color: #6c757d !important;
}

/* Специальные исключения для выделенного текста */
[data-theme="dark"] .tox-edit-area iframe body mark {
    background: #aefc6e !important;
    color: #000000 !important;
}

[data-theme="light"] .tox-edit-area iframe body mark {
    background: #ffdd44 !important;
    color: #333333 !important;
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ IFRAME С ID ===== */

/* Стили для конкретного iframe TinyMCE */
#editorContainer_ifr {
    background: transparent !important;
}

/* ===== СТИЛИ ДЛЯ ЛИСТА ТЕТРАДИ ===== */

/* Основной контейнер редактора с эффектом тетради */
#editorContainer_ifr {
    background: 
        /* Горизонтальные линии тетради */
        repeating-linear-gradient(
            transparent 0px,
            transparent 23px,
            rgba(0, 0, 0, 0.1) 24px,
            rgba(0, 0, 0, 0.1) 25px
        ),
        /* Вертикальная красная линия слева */
        linear-gradient(
            to right,
            #ff6b6b 0px,
            #ff6b6b 1px,
            transparent 1px
        ),
        /* Основной фон */
        #fefefe !important;
    background-size: 100% 25px, 1px 100%, 100% 100% !important;
    background-position: 0 0, 40px 0, 0 0 !important;
    background-repeat: repeat-y, repeat-y, no-repeat !important;
    border: 2px solid #e0e0e0 !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    margin: 5px !important;
    padding: 0 !important;
    min-height: calc(100vh - 200px) !important;
    max-height: calc(100vh - 200px) !important;
    width: calc(100% - 10px) !important;
    max-width: calc(100% - 10px) !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Стили для содержимого iframe с отступами от линий */
#editorContainer_ifr body {
    margin-left: 50px !important;
    margin-right: 20px !important;
    margin-top: 20px !important;
    margin-bottom: 20px !important;
    padding: 0 !important;
    background: transparent !important;
    position: relative !important;
    /* Настройки для выравнивания курсора по линиям тетради */
    line-height: 25px !important;
    font-size: 16px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

/* Дополнительные стили для лучшего отображения текста на линиях */
#editorContainer_ifr body p,
#editorContainer_ifr body div,
#editorContainer_ifr body span {
    background: rgba(255, 255, 255, 0.8) !important;
    padding: 2px 4px !important;
    margin: 0 !important;
    border-radius: 2px !important;
    line-height: 25px !important;
    min-height: 25px !important;
    display: block !important;
}

/* Стили для заголовков на листе тетради */
#editorContainer_ifr body h1,
#editorContainer_ifr body h2,
#editorContainer_ifr body h3,
#editorContainer_ifr body h4,
#editorContainer_ifr body h5,
#editorContainer_ifr body h6 {
    background: rgba(255, 255, 255, 0.9) !important;
    padding: 4px 8px !important;
    margin: 8px 0 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/* Стили для содержимого iframe с ID */
#editorContainer_ifr body {
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    line-height: 1.6 !important;
    font-size: 16px !important;
    transition: all 0.3s ease !important;
    text-align: left !important;
}

/* Выравнивание по умолчанию для элементов без явного выравнивания в iframe с ID */
#editorContainer_ifr body p:not([style*="text-align"]),
#editorContainer_ifr body div:not([style*="text-align"]),
#editorContainer_ifr body span:not([style*="text-align"]),
#editorContainer_ifr body h1:not([style*="text-align"]),
#editorContainer_ifr body h2:not([style*="text-align"]),
#editorContainer_ifr body h3:not([style*="text-align"]),
#editorContainer_ifr body h4:not([style*="text-align"]),
#editorContainer_ifr body h5:not([style*="text-align"]),
#editorContainer_ifr body h6:not([style*="text-align"]) {
    text-align: left;
}

/* ===== ТЕМНАЯ ТЕМА ДЛЯ IFRAME С ID ===== */

/* Темная тема для листа тетради */
[data-theme="dark"] #editorContainer_ifr {
    background: 
        /* Горизонтальные линии тетради для темной темы */
        repeating-linear-gradient(
            transparent 0px,
            transparent 23px,
            rgba(255, 255, 255, 0.15) 24px,
            rgba(255, 255, 255, 0.15) 25px
        ),
        /* Вертикальная красная линия слева для темной темы */
        linear-gradient(
            to right,
            #ff6b6b 0px,
            #ff6b6b 1px,
            transparent 1px
        ),
        /* Основной фон для темной темы */
        #2a2a2a !important;
    background-size: 100% 25px, 1px 100%, 100% 100% !important;
    background-position: 0 0, 40px 0, 0 0 !important;
    background-repeat: repeat-y, repeat-y, no-repeat !important;
    border: 2px solid #404040 !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
    margin: 5px !important;
    min-height: calc(100vh - 200px) !important;
    max-height: calc(100vh - 200px) !important;
    width: calc(100% - 10px) !important;
    max-width: calc(100% - 10px) !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Темная тема для текста на листе тетради */
[data-theme="dark"] #editorContainer_ifr body p,
[data-theme="dark"] #editorContainer_ifr body div,
[data-theme="dark"] #editorContainer_ifr body span {
    background: rgba(42, 42, 42, 0.8) !important;
    padding: 2px 4px !important;
    margin: 0 !important;
    border-radius: 2px !important;
    line-height: 25px !important;
    min-height: 25px !important;
    display: block !important;
}

/* Темная тема для заголовков на листе тетради */
[data-theme="dark"] #editorContainer_ifr body h1,
[data-theme="dark"] #editorContainer_ifr body h2,
[data-theme="dark"] #editorContainer_ifr body h3,
[data-theme="dark"] #editorContainer_ifr body h4,
[data-theme="dark"] #editorContainer_ifr body h5,
[data-theme="dark"] #editorContainer_ifr body h6 {
    background: rgba(42, 42, 42, 0.9) !important;
    padding: 4px 8px !important;
    margin: 8px 0 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] #editorContainer_ifr body {
    background: transparent !important;
    color: #ffffff !important;
    font-weight: 400 !important;
    /* Настройки для выравнивания курсора по линиям тетради в темной теме */
    line-height: 25px !important;
    font-size: 16px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

[data-theme="dark"] #editorContainer_ifr body * {
    color: #ffffff !important;
}

/* Заголовки в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body h1,
[data-theme="dark"] #editorContainer_ifr body h2,
[data-theme="dark"] #editorContainer_ifr body h3,
[data-theme="dark"] #editorContainer_ifr body h4,
[data-theme="dark"] #editorContainer_ifr body h5,
[data-theme="dark"] #editorContainer_ifr body h6 {
    color: #ffffff !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] #editorContainer_ifr body h1 {
    color: #aefc6e !important;
    font-size: 2.2em !important;
    border-bottom: 2px solid #aefc6e !important;
    padding-bottom: 8px !important;
}

[data-theme="dark"] #editorContainer_ifr body h2 {
    color: #aefc6e !important;
    font-size: 1.7em !important;
    border-bottom: 1px solid #aefc6e !important;
    padding-bottom: 6px !important;
}

[data-theme="dark"] #editorContainer_ifr body h3 {
    color: #ffffff !important;
    font-size: 1.4em !important;
}

/* Параграфы и текст в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body p,
[data-theme="dark"] #editorContainer_ifr body div,
[data-theme="dark"] #editorContainer_ifr body span {
    color: #ffffff !important;
    line-height: 1.7 !important;
}

/* Ссылки в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body a {
    color: #aefc6e !important;
    text-decoration: underline !important;
    font-weight: 500 !important;
    transition: color 0.2s ease !important;
}

[data-theme="dark"] #editorContainer_ifr body a:hover {
    color: #8dd85a !important;
}

/* Списки в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body li {
    color: #ffffff !important;
    line-height: 1.6 !important;
}

[data-theme="dark"] #editorContainer_ifr body ul {
    color: #ffffff !important;
}

[data-theme="dark"] #editorContainer_ifr body ol {
    color: #ffffff !important;
}

/* Таблицы в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body table {
    border-collapse: collapse !important;
    background: #000000 !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    border: 2px solid #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    /* Убираем стили листа тетради для таблиц */
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

[data-theme="dark"] #editorContainer_ifr body td,
[data-theme="dark"] #editorContainer_ifr body th {
    color: #ffffff !important;
    border: 1px solid #ffffff !important;
    padding: 12px 16px !important;
    background: #000000 !important;
    transition: all 0.2s ease !important;
    /* Убираем стили листа тетради для ячеек */
    background-image: none !important;
}

[data-theme="dark"] #editorContainer_ifr body td:hover,
[data-theme="dark"] #editorContainer_ifr body th:hover {
    background: rgba(255, 255, 255, 0.08) !important;
    border-color: #aefc6e !important;
}

[data-theme="dark"] #editorContainer_ifr body th {
    background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
    color: #000000 !important;
    font-weight: 600 !important;
    border: 1px solid #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] #editorContainer_ifr body th:hover {
    background: linear-gradient(135deg, #9ce55a 0%, #8dd85a 100%) !important;
    border-color: #ffffff !important;
}

/* Код в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body code {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
    padding: 3px 8px !important;
    border-radius: 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] #editorContainer_ifr body pre {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
    padding: 16px !important;
    border-radius: 6px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    overflow-x: auto !important;
}

/* Цитаты в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body blockquote {
    border-left: 4px solid #aefc6e !important;
    background: rgba(255, 255, 255, 0.05) !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 6px 6px 0 !important;
    font-style: italic !important;
    color: #ffffff !important;
}

/* Выделение текста в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body ::selection {
    background: #aefc6e !important;
    color: #000000 !important;
}

[data-theme="dark"] #editorContainer_ifr body ::-moz-selection {
    background: #aefc6e !important;
    color: #000000 !important;
}

/* ===== СВЕТЛАЯ ТЕМА ДЛЯ IFRAME С ID ===== */

/* Светлая тема для листа тетради */
[data-theme="light"] #editorContainer_ifr {
    background: 
        /* Горизонтальные линии тетради для светлой темы */
        repeating-linear-gradient(
            transparent 0px,
            transparent 23px,
            rgba(0, 0, 0, 0.08) 24px,
            rgba(0, 0, 0, 0.08) 25px
        ),
        /* Вертикальная красная линия слева для светлой темы */
        linear-gradient(
            to right,
            #ff6b6b 0px,
            #ff6b6b 1px,
            transparent 1px
        ),
        /* Основной фон для светлой темы */
        #ffffff !important;
    background-size: 100% 25px, 1px 100%, 100% 100% !important;
    background-position: 0 0, 40px 0, 0 0 !important;
    background-repeat: repeat-y, repeat-y, no-repeat !important;
    border: 2px solid #d0d0d0 !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
    margin: 5px !important;
    min-height: calc(100vh - 200px) !important;
    max-height: calc(100vh - 200px) !important;
    width: calc(100% - 10px) !important;
    max-width: calc(100% - 10px) !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
}

/* Светлая тема для текста на листе тетради */
[data-theme="light"] #editorContainer_ifr body p,
[data-theme="light"] #editorContainer_ifr body div,
[data-theme="light"] #editorContainer_ifr body span {
    background: rgba(255, 255, 255, 0.9) !important;
    padding: 2px 4px !important;
    margin: 0 !important;
    border-radius: 2px !important;
    line-height: 25px !important;
    min-height: 25px !important;
    display: block !important;
}

/* Светлая тема для заголовков на листе тетради */
[data-theme="light"] #editorContainer_ifr body h1,
[data-theme="light"] #editorContainer_ifr body h2,
[data-theme="light"] #editorContainer_ifr body h3,
[data-theme="light"] #editorContainer_ifr body h4,
[data-theme="light"] #editorContainer_ifr body h5,
[data-theme="light"] #editorContainer_ifr body h6 {
    background: rgba(255, 255, 255, 0.95) !important;
    padding: 4px 8px !important;
    margin: 8px 0 !important;
    border-radius: 4px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

[data-theme="light"] #editorContainer_ifr body {
    background: transparent !important;
    color: #212529 !important;
    font-weight: 400 !important;
    /* Настройки для выравнивания курсора по линиям тетради в светлой теме */
    line-height: 25px !important;
    font-size: 16px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

[data-theme="light"] #editorContainer_ifr body * {
    color: #212529 !important;
}

/* Заголовки в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body h1,
[data-theme="light"] #editorContainer_ifr body h2,
[data-theme="light"] #editorContainer_ifr body h3,
[data-theme="light"] #editorContainer_ifr body h4,
[data-theme="light"] #editorContainer_ifr body h5,
[data-theme="light"] #editorContainer_ifr body h6 {
    color: #212529 !important;
    font-weight: 600 !important;
}

[data-theme="light"] #editorContainer_ifr body h1 {
    color: #28a745 !important;
    font-size: 2.2em !important;
    border-bottom: 2px solid #28a745 !important;
    padding-bottom: 8px !important;
}

[data-theme="light"] #editorContainer_ifr body h2 {
    color: #28a745 !important;
    font-size: 1.7em !important;
    border-bottom: 1px solid #28a745 !important;
    padding-bottom: 6px !important;
}

[data-theme="light"] #editorContainer_ifr body h3 {
    color: #212529 !important;
    font-size: 1.4em !important;
}

/* Параграфы и текст в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body p,
[data-theme="light"] #editorContainer_ifr body div,
[data-theme="light"] #editorContainer_ifr body span {
    color: #212529 !important;
    line-height: 1.7 !important;
}

/* Ссылки в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body a {
    color: #28a745 !important;
    text-decoration: underline !important;
    font-weight: 500 !important;
    transition: color 0.2s ease !important;
}

[data-theme="light"] #editorContainer_ifr body a:hover {
    color: #218838 !important;
}

/* Списки в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body li {
    color: #212529 !important;
    line-height: 1.6 !important;
}

[data-theme="light"] #editorContainer_ifr body ul {
    color: #212529 !important;
}

[data-theme="light"] #editorContainer_ifr body ol {
    color: #212529 !important;
}

/* Таблицы в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body table {
    border-collapse: collapse !important;
    background: #ffffff !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    border: 2px solid #000000 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

[data-theme="light"] #editorContainer_ifr body td,
[data-theme="light"] #editorContainer_ifr body th {
    color: #000000 !important;
    border: 1px solid #000000 !important;
    padding: 12px 16px !important;
    background: #ffffff !important;
    transition: all 0.2s ease !important;
    background-image: none !important;
}

[data-theme="light"] #editorContainer_ifr body th {
    background: #28a745 !important;
    color: #ffffff !important;
    font-weight: 600 !important;
}

/* Код в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body code {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
    padding: 3px 8px !important;
    border-radius: 4px !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    border: 1px solid #dee2e6 !important;
}

[data-theme="light"] #editorContainer_ifr body pre {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
    padding: 16px !important;
    border-radius: 6px !important;
    border: 1px solid #dee2e6 !important;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
    overflow-x: auto !important;
}

/* Цитаты в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body blockquote {
    border-left: 4px solid #28a745 !important;
    background: #f8f9fa !important;
    padding: 16px 20px !important;
    margin: 16px 0 !important;
    border-radius: 0 6px 6px 0 !important;
    font-style: italic !important;
    color: #212529 !important;
}

/* Выделение текста в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body ::selection {
    background: #28a745 !important;
    color: #ffffff !important;
}

[data-theme="light"] #editorContainer_ifr body ::-moz-selection {
    background: #28a745 !important;
    color: #ffffff !important;
}

/* ===== МАКСИМАЛЬНО АГРЕССИВНЫЕ СТИЛИ ДЛЯ IFRAME С ID ===== */

/* Переопределяем любые возможные стили для темной темы в iframe с ID */
[data-theme="dark"] #editorContainer_ifr body * {
    color: #ffffff !important;
}

/* Переопределяем любые возможные стили для светлой темы в iframe с ID */
[data-theme="light"] #editorContainer_ifr body * {
    color: #212529 !important;
}

/* Специальные исключения для акцентных элементов в темной теме для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body h1,
[data-theme="dark"] #editorContainer_ifr body h2,
[data-theme="dark"] #editorContainer_ifr body a,
[data-theme="dark"] #editorContainer_ifr body u,
[data-theme="dark"] #editorContainer_ifr body time,
[data-theme="dark"] #editorContainer_ifr body data,
[data-theme="dark"] #editorContainer_ifr body abbr,
[data-theme="dark"] #editorContainer_ifr body dfn,
[data-theme="dark"] #editorContainer_ifr body var,
[data-theme="dark"] #editorContainer_ifr body q {
    color: #aefc6e !important;
}

/* Специальные исключения для акцентных элементов в светлой теме для iframe с ID */
[data-theme="light"] #editorContainer_ifr body h1,
[data-theme="light"] #editorContainer_ifr body h2,
[data-theme="light"] #editorContainer_ifr body a,
[data-theme="light"] #editorContainer_ifr body u,
[data-theme="light"] #editorContainer_ifr body time,
[data-theme="light"] #editorContainer_ifr body data,
[data-theme="light"] #editorContainer_ifr body abbr,
[data-theme="light"] #editorContainer_ifr body dfn,
[data-theme="light"] #editorContainer_ifr body var,
[data-theme="light"] #editorContainer_ifr body q {
    color: #28a745 !important;
}

/* Специальные исключения для зачеркнутого текста в iframe с ID */
[data-theme="dark"] #editorContainer_ifr body s,
[data-theme="dark"] #editorContainer_ifr body strike {
    color: #888888 !important;
}

[data-theme="light"] #editorContainer_ifr body s,
[data-theme="light"] #editorContainer_ifr body strike {
    color: #6c757d !important;
}

/* Специальные исключения для выделенного текста в iframe с ID */
[data-theme="dark"] #editorContainer_ifr body mark {
    background: #aefc6e !important;
    color: #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body mark {
    background: #ffdd44 !important;
    color: #333333 !important;
}

[data-theme="dark"] .tox-edit-area iframe body code,
[data-theme="dark"] .tox-edit-area iframe body pre {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ffffff !important;
}

/* Принудительные стили для содержимого в светлой теме */
[data-theme="light"] .tox-edit-area iframe body {
    background: transparent !important;
    color: #212529 !important;
}

[data-theme="light"] .tox-edit-area iframe body * {
    color: #212529 !important;
}

[data-theme="light"] .tox-edit-area iframe body a {
    color: #28a745 !important;
}

[data-theme="light"] .tox-edit-area iframe body code,
[data-theme="light"] .tox-edit-area iframe body pre {
    background: rgba(0, 0, 0, 0.05) !important;
    color: #212529 !important;
}

/* Стили для iframe в редакторе */
.tox-edit-area iframe body iframe {
    border-radius: 6px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    margin: 10px 0 !important;
    display: block !important;
    max-width: 100% !important;
    height: auto !important;
}

[data-theme="dark"] .tox-edit-area iframe body iframe {
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1) !important;
}

[data-theme="light"] .tox-edit-area iframe body iframe {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

/* Стили для селектора таблиц TinyMCE */
.tox .tox-insert-table-picker {
    background: var(--modal-bg) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 4px !important;
    padding: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    display: grid !important;
    grid-template-columns: repeat(10, 1fr) !important;
    gap: 1px !important;
    width: 130px !important;
    height: 130px !important;
}

.tox .tox-insert-table-picker__selected {
    background: #28a745 !important;
    border: 1px solid #28a745 !important;
    border-radius: 2px !important;
    margin: 1px !important;
    width: 12px !important;
    height: 12px !important;
    display: inline-block !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.tox .tox-insert-table-picker__selected:hover {
    background: #218838 !important;
    border-color: #218838 !important;
    transform: scale(1.1) !important;
}

/* Стили для невыделенных ячеек селектора таблиц */
.tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected) {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 2px !important;
    margin: 1px !important;
    width: 12px !important;
    height: 12px !important;
    display: inline-block !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
}

.tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected):hover {
    background: var(--button-hover) !important;
    border-color: #28a745 !important;
    transform: scale(1.05) !important;
}

.tox .tox-insert-table-picker__label {
    color: var(--text-color) !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    margin-top: 4px !important;
    text-align: center !important;
    display: block !important;
    grid-column: 1 / -1 !important;
    margin-top: 8px !important;
}

/* Темная тема для селектора таблиц */
[data-theme="dark"] .tox .tox-insert-table-picker {
    background: #2d2d2d !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected) {
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
}

[data-theme="dark"] .tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected):hover {
    background: rgba(255, 255, 255, 0.1) !important;
    border-color: #28a745 !important;
}

/* Светлая тема для селектора таблиц */
[data-theme="light"] .tox .tox-insert-table-picker {
    background: #ffffff !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

[data-theme="light"] .tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected) {
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

[data-theme="light"] .tox .tox-insert-table-picker [role="button"]:not(.tox-insert-table-picker__selected):hover {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: #28a745 !important;
}

/* Стили для модалок TinyMCE в строгом стиле */
.tox .tox-dialog {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
}

.tox .tox-dialog__header {
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid var(--border-color) !important;
    padding: 18px 25px !important;
}

.tox .tox-dialog__header h1,
.tox .tox-dialog__header h2,
.tox .tox-dialog__header h3,
.tox .tox-dialog__header h4,
.tox .tox-dialog__header h5,
.tox .tox-dialog__header h6 {
    color: var(--text-color) !important;
    font-weight: 600 !important;
    margin: 0 !important;
}

.tox .tox-dialog__body {
    background: transparent !important;
    border: none !important;
    padding: 25px 30px !important;
}

.tox .tox-dialog__body p,
.tox .tox-dialog__body label,
.tox .tox-dialog__body span {
    color: var(--text-color) !important;
    margin: 8px 0 !important;
    line-height: 1.5 !important;
    padding: 0 2px !important;
}

.tox .tox-dialog__footer {
    background: transparent !important;
    border: none !important;
    border-top: 1px solid var(--border-color) !important;
    padding: 18px 25px !important;
}

/* Стили для кнопок в модалках */
.tox .tox-dialog__footer .tox-button {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
    border-radius: 0 !important;
    padding: 10px 18px !important;
    font-weight: 500 !important;
    transition: all 0.2s ease !important;
}

.tox .tox-dialog__footer .tox-button:hover {
    background: var(--button-hover) !important;
    border-color: #28a745 !important;
    color: var(--text-color) !important;
}

.tox .tox-dialog__footer .tox-button--primary {
    background: #28a745 !important;
    border-color: #28a745 !important;
    color: #ffffff !important;
}

.tox .tox-dialog__footer .tox-button--primary:hover {
    background: #218838 !important;
    border-color: #1e7e34 !important;
}

/* Стили для полей ввода в модалках */
.tox .tox-dialog .tox-textfield,
.tox .tox-dialog .tox-textarea,
.tox .tox-dialog .tox-selectfield select {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    color: var(--text-color) !important;
    border-radius: 0 !important;
    padding: 10px 15px !important;
}

.tox .tox-dialog .tox-textfield:focus,
.tox .tox-dialog .tox-textarea:focus,
.tox .tox-dialog .tox-selectfield select:focus {
    border-color: #28a745 !important;
    box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.2) !important;
    outline: none !important;
}

/* Стили для лейблов в модалках */
.tox .tox-dialog .tox-label {
    color: var(--text-color) !important;
    font-weight: 500 !important;
    margin-bottom: 10px !important;
    display: block !important;
    padding: 0 2px !important;
}

/* Стили для чекбоксов и радиокнопок в модалках */
.tox .tox-dialog .tox-checkbox,
.tox .tox-dialog .tox-radio {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
}

.tox .tox-dialog .tox-checkbox:checked,
.tox .tox-dialog .tox-radio:checked {
    background: #28a745 !important;
    border-color: #28a745 !important;
}

/* Стили для селектов в модалках */
.tox .tox-dialog .tox-selectfield {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 0 !important;
}

.tox .tox-dialog .tox-selectfield select {
    background: transparent !important;
    color: var(--text-color) !important;
}

/* Стили для коллекций в модалках */
.tox .tox-collection {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 0 !important;
    box-shadow: none !important;
}

.tox .tox-collection__item {
    background: transparent !important;
    border: none !important;
    color: var(--text-color) !important;
    padding: 8px 12px !important;
}

.tox .tox-collection__item:hover {
    background: var(--button-hover) !important;
    color: var(--text-color) !important;
}

/* Стили для попапов в модалках */
.tox .tox-pop {
    background: transparent !important;
    border: 1px solid var(--border-color) !important;
    border-radius: 0 !important;
    box-shadow: none !important;
}

.tox .tox-pop__dialog {
    background: transparent !important;
    border: none !important;
}

/* Темная тема для модалок */
[data-theme="dark"] .tox .tox-dialog {
    --text-color: #ffffff;
    --border-color: rgba(255, 255, 255, 0.2);
    --button-hover: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .tox .tox-dialog__header {
    border-bottom-color: rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] .tox .tox-dialog__footer {
    border-top-color: rgba(255, 255, 255, 0.2) !important;
}

/* Светлая тема для модалок */
[data-theme="light"] .tox .tox-dialog {
    --text-color: #212529;
    --border-color: rgba(0, 0, 0, 0.2);
    --button-hover: rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .tox .tox-dialog__header {
    border-bottom-color: rgba(0, 0, 0, 0.2) !important;
}

[data-theme="light"] .tox .tox-dialog__footer {
    border-top-color: rgba(0, 0, 0, 0.2) !important;
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ ИСПРАВЛЕНИЯ ТЕМНОГО ТЕКСТА ===== */

/* Максимально агрессивные стили для переопределения любых inline стилей в темной теме */
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: rgb(33, 37, 41)"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: #212529"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: rgb(33, 37, 41)"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: black"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: #000"],
[data-theme="dark"] .tox-edit-area iframe body *[style*="color: #000000"] {
    color: #ffffff !important;
}

/* Максимально агрессивные стили для переопределения любых inline стилей в светлой теме */
[data-theme="light"] .tox-edit-area iframe body *[style*="color: rgb(255, 255, 255)"],
[data-theme="light"] .tox-edit-area iframe body *[style*="color: #ffffff"],
[data-theme="light"] .tox-edit-area iframe body *[style*="color: white"],
[data-theme="light"] .tox-edit-area iframe body *[style*="color: #fff"] {
    color: #212529 !important;
}

/* Дополнительные стили для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body *[style*="color: rgb(33, 37, 41)"],
[data-theme="dark"] #editorContainer_ifr body *[style*="color: #212529"],
[data-theme="dark"] #editorContainer_ifr body *[style*="color: black"],
[data-theme="dark"] #editorContainer_ifr body *[style*="color: #000"],
[data-theme="dark"] #editorContainer_ifr body *[style*="color: #000000"] {
    color: #ffffff !important;
}

[data-theme="light"] #editorContainer_ifr body *[style*="color: rgb(255, 255, 255)"],
[data-theme="light"] #editorContainer_ifr body *[style*="color: #ffffff"],
[data-theme="light"] #editorContainer_ifr body *[style*="color: white"],
[data-theme="light"] #editorContainer_ifr body *[style*="color: #fff"] {
    color: #212529 !important;
}

/* Стили для переопределения любых возможных стилей TinyMCE */
[data-theme="dark"] .tox-edit-area iframe body,
[data-theme="dark"] .tox-edit-area iframe body *,
[data-theme="dark"] .tox-edit-area iframe body p,
[data-theme="dark"] .tox-edit-area iframe body div,
[data-theme="dark"] .tox-edit-area iframe body span,
[data-theme="dark"] .tox-edit-area iframe body input,
[data-theme="dark"] .tox-edit-area iframe body textarea {
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body,
[data-theme="light"] .tox-edit-area iframe body *,
[data-theme="light"] .tox-edit-area iframe body p,
[data-theme="light"] .tox-edit-area iframe body div,
[data-theme="light"] .tox-edit-area iframe body span,
[data-theme="light"] .tox-edit-area iframe body input,
[data-theme="light"] .tox-edit-area iframe body textarea {
    color: #212529 !important;
}

/* Дополнительные стили для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body,
[data-theme="dark"] #editorContainer_ifr body *,
[data-theme="dark"] #editorContainer_ifr body p,
[data-theme="dark"] #editorContainer_ifr body div,
[data-theme="dark"] #editorContainer_ifr body span,
[data-theme="dark"] #editorContainer_ifr body input,
[data-theme="dark"] #editorContainer_ifr body textarea {
    color: #ffffff !important;
}

[data-theme="light"] #editorContainer_ifr body,
[data-theme="light"] #editorContainer_ifr body *,
[data-theme="light"] #editorContainer_ifr body p,
[data-theme="light"] #editorContainer_ifr body div,
[data-theme="light"] #editorContainer_ifr body span,
[data-theme="light"] #editorContainer_ifr body input,
[data-theme="light"] #editorContainer_ifr body textarea {
    color: #212529 !important;
}

/* Специальные стили для переопределения стилей TinyMCE по умолчанию */
[data-theme="dark"] .tox-edit-area iframe body.mce-content-body,
[data-theme="dark"] .tox-edit-area iframe body.mce-content-body * {
    color: #ffffff !important;
}

[data-theme="light"] .tox-edit-area iframe body.mce-content-body,
[data-theme="light"] .tox-edit-area iframe body.mce-content-body * {
    color: #212529 !important;
}

/* Дополнительные стили для iframe с ID */
[data-theme="dark"] #editorContainer_ifr body.mce-content-body,
[data-theme="dark"] #editorContainer_ifr body.mce-content-body * {
    color: #ffffff !important;
}

[data-theme="light"] #editorContainer_ifr body.mce-content-body,
[data-theme="light"] #editorContainer_ifr body.mce-content-body * {
    color: #212529 !important;
}

/* ===== КРИТИЧЕСКИ ВАЖНЫЕ СТИЛИ ДЛЯ BODY С ID TINYMCE ===== */

/* Максимально специфичные стили для body с ID tinymce */
[data-theme="dark"] body#tinymce,
[data-theme="dark"] body#tinymce *,
[data-theme="dark"] body#tinymce p,
[data-theme="dark"] body#tinymce div,
[data-theme="dark"] body#tinymce span,
[data-theme="dark"] body#tinymce input,
[data-theme="dark"] body#tinymce textarea {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce,
[data-theme="light"] body#tinymce *,
[data-theme="light"] body#tinymce p,
[data-theme="light"] body#tinymce div,
[data-theme="light"] body#tinymce span,
[data-theme="light"] body#tinymce input,
[data-theme="light"] body#tinymce textarea {
    color: #212529 !important;
}

/* Стили для body с классом mce-content-body и ID tinymce */
[data-theme="dark"] body#tinymce.mce-content-body,
[data-theme="dark"] body#tinymce.mce-content-body *,
[data-theme="dark"] body#tinymce.mce-content-body p,
[data-theme="dark"] body#tinymce.mce-content-body div,
[data-theme="dark"] body#tinymce.mce-content-body span {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce.mce-content-body,
[data-theme="light"] body#tinymce.mce-content-body *,
[data-theme="light"] body#tinymce.mce-content-body p,
[data-theme="light"] body#tinymce.mce-content-body div,
[data-theme="light"] body#tinymce.mce-content-body span {
    color: #212529 !important;
}

/* Переопределение inline стилей для body с ID tinymce */
[data-theme="dark"] body#tinymce[style*="color"],
[data-theme="dark"] body#tinymce *[style*="color"] {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce[style*="color"],
[data-theme="light"] body#tinymce *[style*="color"] {
    color: #212529 !important;
}

/* Дополнительные стили для iframe с body#tinymce */
[data-theme="dark"] iframe body#tinymce,
[data-theme="dark"] iframe body#tinymce *,
[data-theme="dark"] iframe body#tinymce p,
[data-theme="dark"] iframe body#tinymce div,
[data-theme="dark"] iframe body#tinymce span {
    color: #ffffff !important;
}

[data-theme="light"] iframe body#tinymce,
[data-theme="light"] iframe body#tinymce *,
[data-theme="light"] iframe body#tinymce p,
[data-theme="light"] iframe body#tinymce div,
[data-theme="light"] iframe body#tinymce span {
    color: #212529 !important;
}

/* Стили для iframe с ID editorContainer_ifr и body#tinymce */
[data-theme="dark"] #editorContainer_ifr body#tinymce,
[data-theme="dark"] #editorContainer_ifr body#tinymce *,
[data-theme="dark"] #editorContainer_ifr body#tinymce p,
[data-theme="dark"] #editorContainer_ifr body#tinymce div,
[data-theme="dark"] #editorContainer_ifr body#tinymce span {
    color: #ffffff !important;
}

[data-theme="light"] #editorContainer_ifr body#tinymce,
[data-theme="light"] #editorContainer_ifr body#tinymce *,
[data-theme="light"] #editorContainer_ifr body#tinymce p,
[data-theme="light"] #editorContainer_ifr body#tinymce div,
[data-theme="light"] #editorContainer_ifr body#tinymce span {
    color: #212529 !important;
}

/* Максимально агрессивные стили для переопределения любых возможных стилей */
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"],
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"] *,
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"] p,
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"] div,
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"] span {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"],
[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"] *,
[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"] p,
[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"] div,
[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"] span {
    color: #212529 !important;
}

/* ===== ОТКЛЮЧЕНИЕ ВСЕХ INLINE СТИЛЕЙ ЦВЕТА ===== */

/* Отключаем все inline стили цвета в TinyMCE */
[data-theme="dark"] body#tinymce *[style*="color"],
[data-theme="dark"] body#tinymce.mce-content-body *[style*="color"],
[data-theme="dark"] body#tinymce.mce-content-body[data-id="editorContainer"] *[style*="color"] {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce *[style*="color"],
[data-theme="light"] body#tinymce.mce-content-body *[style*="color"],
[data-theme="light"] body#tinymce.mce-content-body[data-id="editorContainer"] *[style*="color"] {
    color: #212529 !important;
}

/* Отключаем inline стили для всех элементов iframe */
[data-theme="dark"] iframe body#tinymce *[style*="color"],
[data-theme="dark"] #editorContainer_ifr body#tinymce *[style*="color"] {
    color: #ffffff !important;
}

[data-theme="light"] iframe body#tinymce *[style*="color"],
[data-theme="light"] #editorContainer_ifr body#tinymce *[style*="color"] {
    color: #212529 !important;
}

/* Отключаем все возможные inline стили цвета */
[data-theme="dark"] body#tinymce *[style*="color: rgb("],
[data-theme="dark"] body#tinymce *[style*="color: #"],
[data-theme="dark"] body#tinymce *[style*="color: black"],
[data-theme="dark"] body#tinymce *[style*="color: white"],
[data-theme="dark"] body#tinymce *[style*="color: inherit"] {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce *[style*="color: rgb("],
[data-theme="light"] body#tinymce *[style*="color: #"],
[data-theme="light"] body#tinymce *[style*="color: black"],
[data-theme="light"] body#tinymce *[style*="color: white"],
[data-theme="light"] body#tinymce *[style*="color: inherit"] {
    color: #212529 !important;
}

/* Принудительное отключение всех inline стилей цвета */
[data-theme="dark"] body#tinymce * {
    color: #ffffff !important;
}

[data-theme="light"] body#tinymce * {
    color: #212529 !important;
}

/* Дополнительные стили для отключения inline стилей в iframe */
[data-theme="dark"] iframe body#tinymce *,
[data-theme="dark"] #editorContainer_ifr body#tinymce * {
    color: #ffffff !important;
}

[data-theme="light"] iframe body#tinymce *,
[data-theme="light"] #editorContainer_ifr body#tinymce * {
    color: #212529 !important;
}

/* ===== ДОПОЛНИТЕЛЬНЫЕ СТИЛИ ДЛЯ УЛУЧШЕНИЯ ВНЕШНЕГО ВИДА ТЕТРАДИ ===== */

/* Стили для списков на листе тетради */
#editorContainer_ifr body ul,
#editorContainer_ifr body ol {
    background: rgba(255, 255, 255, 0.7) !important;
    padding: 8px 12px !important;
    margin: 8px 0 !important;
    border-radius: 4px !important;
    border-left: 3px solid #ff6b6b !important;
}

/* Стили для цитат на листе тетради */
#editorContainer_ifr body blockquote {
    background: rgba(255, 255, 255, 0.8) !important;
    padding: 12px 16px !important;
    margin: 12px 0 !important;
    border-radius: 6px !important;
    border-left: 4px solid #ff6b6b !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Стили для кода на листе тетради */
#editorContainer_ifr body code {
    background: rgba(255, 255, 255, 0.9) !important;
    padding: 3px 6px !important;
    border-radius: 3px !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    font-family: 'Courier New', monospace !important;
}

/* Стили для блоков кода на листе тетради */
#editorContainer_ifr body pre {
    background: rgba(255, 255, 255, 0.9) !important;
    padding: 12px 16px !important;
    margin: 12px 0 !important;
    border-radius: 6px !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    overflow-x: auto !important;
}

/* Стили для таблиц на листе тетради */
#editorContainer_ifr body table {
    background: rgba(255, 255, 255, 0.9) !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    overflow: hidden !important;
}

/* Темная тема для дополнительных элементов */
[data-theme="dark"] #editorContainer_ifr body ul,
[data-theme="dark"] #editorContainer_ifr body ol {
    background: rgba(42, 42, 42, 0.7) !important;
    border-left-color: #ff6b6b !important;
}

[data-theme="dark"] #editorContainer_ifr body blockquote {
    background: rgba(42, 42, 42, 0.8) !important;
    border-left-color: #ff6b6b !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] #editorContainer_ifr body code {
    background: rgba(42, 42, 42, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
}

[data-theme="dark"] #editorContainer_ifr body pre {
    background: rgba(42, 42, 42, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] #editorContainer_ifr body table {
    background: #000000 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    border: 2px solid #ffffff !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

/* Светлая тема для дополнительных элементов */
[data-theme="light"] #editorContainer_ifr body ul,
[data-theme="light"] #editorContainer_ifr body ol {
    background: rgba(255, 255, 255, 0.8) !important;
    border-left-color: #ff6b6b !important;
}

[data-theme="light"] #editorContainer_ifr body blockquote {
    background: rgba(255, 255, 255, 0.9) !important;
    border-left-color: #ff6b6b !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08) !important;
}

[data-theme="light"] #editorContainer_ifr body code {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: rgba(0, 0, 0, 0.1) !important;
}

[data-theme="light"] #editorContainer_ifr body pre {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: rgba(0, 0, 0, 0.1) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08) !important;
}

[data-theme="light"] #editorContainer_ifr body table {
    background: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    border: 2px solid #000000 !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
}

/* ===== УНИВЕРСАЛЬНЫЕ СТИЛИ ДЛЯ ВСЕХ ТАБЛИЦ ===== */

/* Принудительное переопределение для всех таблиц в темной теме */
[data-theme="dark"] #editorContainer_ifr body table,
[data-theme="dark"] .tox-edit-area iframe body table {
    color: #ffffff !important;
    background: #000000 !important;
    border: 2px solid #ffffff !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    border-radius: 8px !important;
    overflow: hidden !important;
}

[data-theme="dark"] #editorContainer_ifr body table td,
[data-theme="dark"] #editorContainer_ifr body table th,
[data-theme="dark"] .tox-edit-area iframe body table td,
[data-theme="dark"] .tox-edit-area iframe body table th {
    color: #ffffff !important;
    background: #000000 !important;
    border: 1px solid #ffffff !important;
    background-image: none !important;
    transition: all 0.2s ease !important;
    padding: 12px 16px !important;
}

[data-theme="dark"] #editorContainer_ifr body table th,
[data-theme="dark"] .tox-edit-area iframe body table th {
    background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
    color: #000000 !important;
    font-weight: 600 !important;
    border: 1px solid #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] #editorContainer_ifr body table td:hover,
[data-theme="dark"] #editorContainer_ifr body table th:hover,
[data-theme="dark"] .tox-edit-area iframe body table td:hover,
[data-theme="dark"] .tox-edit-area iframe body table th:hover {
    background: rgba(255, 255, 255, 0.08) !important;
    border-color: #aefc6e !important;
}

/* Принудительное переопределение для всех таблиц в светлой теме */
[data-theme="light"] #editorContainer_ifr body table,
[data-theme="light"] .tox-edit-area iframe body table {
    color: #000000 !important;
    background: #ffffff !important;
    border: 2px solid #000000 !important;
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px !important;
    overflow: hidden !important;
}

[data-theme="light"] #editorContainer_ifr body table td,
[data-theme="light"] #editorContainer_ifr body table th,
[data-theme="light"] .tox-edit-area iframe body table td,
[data-theme="light"] .tox-edit-area iframe body table th {
    color: #000000 !important;
    background: #ffffff !important;
    border: 1px solid #000000 !important;
    background-image: none !important;
    transition: all 0.2s ease !important;
    padding: 12px 16px !important;
}

[data-theme="light"] #editorContainer_ifr body table th,
[data-theme="light"] .tox-edit-area iframe body table th {
    background: #28a745 !important;
    color: #ffffff !important;
    font-weight: 600 !important;
    border: 1px solid #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body table td:hover,
[data-theme="light"] #editorContainer_ifr body table th:hover,
[data-theme="light"] .tox-edit-area iframe body table td:hover,
[data-theme="light"] .tox-edit-area iframe body table th:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: #28a745 !important;
}

/* Стили для всех элементов таблиц в темной теме */
[data-theme="dark"] #editorContainer_ifr body table colgroup,
[data-theme="dark"] #editorContainer_ifr body table col,
[data-theme="dark"] #editorContainer_ifr body table tbody,
[data-theme="dark"] #editorContainer_ifr body table tr,
[data-theme="dark"] #editorContainer_ifr body table br,
[data-theme="dark"] .tox-edit-area iframe body table colgroup,
[data-theme="dark"] .tox-edit-area iframe body table col,
[data-theme="dark"] .tox-edit-area iframe body table tbody,
[data-theme="dark"] .tox-edit-area iframe body table tr,
[data-theme="dark"] .tox-edit-area iframe body table br {
    color: #ffffff !important;
}

/* Стили для всех элементов таблиц в светлой теме */
[data-theme="light"] #editorContainer_ifr body table colgroup,
[data-theme="light"] #editorContainer_ifr body table col,
[data-theme="light"] #editorContainer_ifr body table tbody,
[data-theme="light"] #editorContainer_ifr body table tr,
[data-theme="light"] #editorContainer_ifr body table br,
[data-theme="light"] .tox-edit-area iframe body table colgroup,
[data-theme="light"] .tox-edit-area iframe body table col,
[data-theme="light"] .tox-edit-area iframe body table tbody,
[data-theme="light"] .tox-edit-area iframe body table tr,
[data-theme="light"] .tox-edit-area iframe body table br {
    color: #000000 !important;
}

/* ===== ПЕРЕОПРЕДЕЛЕНИЕ INLINE СТИЛЕЙ ТАБЛИЦ ===== */

/* Переопределение inline стилей для темной темы */
[data-theme="dark"] #editorContainer_ifr body table[style*="color"],
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] {
    color: #ffffff !important;
    background: #000000 !important;
    border: 2px solid #ffffff !important;
}

[data-theme="dark"] #editorContainer_ifr body table[style*="color"] td,
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] th,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] td,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] th {
    color: #ffffff !important;
    background: #000000 !important;
    border: 1px solid #ffffff !important;
}

[data-theme="dark"] #editorContainer_ifr body table[style*="color"] colgroup,
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] col,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] colgroup,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] col {
    color: #ffffff !important;
}

[data-theme="dark"] #editorContainer_ifr body table[style*="color"] tbody,
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] tr,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] tbody,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] tr {
    color: #ffffff !important;
}

[data-theme="dark"] #editorContainer_ifr body table[style*="color"] br,
[data-theme="dark"] #editorContainer_ifr body table[data-mce-style*="color"] br {
    color: #ffffff !important;
}

/* Переопределение inline стилей для светлой темы */
[data-theme="light"] #editorContainer_ifr body table[style*="color"],
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] {
    color: #000000 !important;
    background: #ffffff !important;
    border: 2px solid #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] td,
[data-theme="light"] #editorContainer_ifr body table[style*="color"] th,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] td,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] th {
    color: #000000 !important;
    background: #ffffff !important;
    border: 1px solid #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] colgroup,
[data-theme="light"] #editorContainer_ifr body table[style*="color"] col,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] colgroup,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] col {
    color: #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] tbody,
[data-theme="light"] #editorContainer_ifr body table[style*="color"] tr,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] tbody,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] tr {
    color: #000000 !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] br,
[data-theme="light"] #editorContainer_ifr body table[data-mce-style*="color"] br {
    color: #000000 !important;
}

/* Универсальные стили для переопределения inline стилей */
#editorContainer_ifr body table[style*="color"] {
    background-image: none !important;
    margin: 20px 0 !important;
    position: relative !important;
    z-index: 10 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px !important;
    overflow: hidden !important;
}

#editorContainer_ifr body table[style*="color"] td,
#editorContainer_ifr body table[style*="color"] th {
    background-image: none !important;
    transition: all 0.2s ease !important;
    padding: 12px 16px !important;
}

/* Стили для заголовков таблиц с inline стилями */
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] th {
    background: linear-gradient(135deg, #aefc6e 0%, #9ce55a 100%) !important;
    color: #000000 !important;
    font-weight: 600 !important;
    border: 1px solid #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] th {
    background: #28a745 !important;
    color: #ffffff !important;
    font-weight: 600 !important;
    border: 1px solid #000000 !important;
}

/* Hover эффекты для таблиц с inline стилями */
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] td:hover,
[data-theme="dark"] #editorContainer_ifr body table[style*="color"] th:hover {
    background: rgba(255, 255, 255, 0.08) !important;
    border-color: #aefc6e !important;
}

[data-theme="light"] #editorContainer_ifr body table[style*="color"] td:hover,
[data-theme="light"] #editorContainer_ifr body table[style*="color"] th:hover {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: #28a745 !important;
}

/* Переопределение inline стилей для основных iframe TinyMCE */
[data-theme="dark"] .tox-edit-area iframe body table[style*="color"],
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] {
    color: #ffffff !important;
    background: #000000 !important;
    border: 2px solid #ffffff !important;
}

[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] td,
[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] th,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] td,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] th {
    color: #ffffff !important;
    background: #000000 !important;
    border: 1px solid #ffffff !important;
}

[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] colgroup,
[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] col,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] colgroup,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] col {
    color: #ffffff !important;
}

[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] tbody,
[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] tr,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] tbody,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] tr {
    color: #ffffff !important;
}

[data-theme="dark"] .tox-edit-area iframe body table[style*="color"] br,
[data-theme="dark"] .tox-edit-area iframe body table[data-mce-style*="color"] br {
    color: #ffffff !important;
}

/* Переопределение inline стилей для светлой темы в основных iframe */
[data-theme="light"] .tox-edit-area iframe body table[style*="color"],
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] {
    color: #000000 !important;
    background: #ffffff !important;
    border: 2px solid #000000 !important;
}

[data-theme="light"] .tox-edit-area iframe body table[style*="color"] td,
[data-theme="light"] .tox-edit-area iframe body table[style*="color"] th,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] td,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] th {
    color: #000000 !important;
    background: #ffffff !important;
    border: 1px solid #000000 !important;
}

[data-theme="light"] .tox-edit-area iframe body table[style*="color"] colgroup,
[data-theme="light"] .tox-edit-area iframe body table[style*="color"] col,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] colgroup,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] col {
    color: #000000 !important;
}

[data-theme="light"] .tox-edit-area iframe body table[style*="color"] tbody,
[data-theme="light"] .tox-edit-area iframe body table[style*="color"] tr,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] tbody,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] tr {
    color: #000000 !important;
}

[data-theme="light"] .tox-edit-area iframe body table[style*="color"] br,
[data-theme="light"] .tox-edit-area iframe body table[data-mce-style*="color"] br {
    color: #000000 !important;
}

/* ===== МАКСИМАЛЬНАЯ БЛОКИРОВКА ВСЕХ INLINE СТИЛЕЙ TINYMCE ===== */

/* Блокируем все inline стили для body с ID tinymce */
[data-theme="dark"] body#tinymce[style*="min-height"],
[data-theme="dark"] body#tinymce[style*="background"],
[data-theme="dark"] body#tinymce[style*="color"],
[data-theme="dark"] body#tinymce[style*="font-family"],
[data-theme="dark"] body#tinymce[style*="font-size"],
[data-theme="dark"] body#tinymce[style*="line-height"],
[data-theme="dark"] body#tinymce[style*="margin"],
[data-theme="dark"] body#tinymce[style*="padding"] {
    background: transparent !important;
    color: #ffffff !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
}

[data-theme="light"] body#tinymce[style*="min-height"],
[data-theme="light"] body#tinymce[style*="background"],
[data-theme="light"] body#tinymce[style*="color"],
[data-theme="light"] body#tinymce[style*="font-family"],
[data-theme="light"] body#tinymce[style*="font-size"],
[data-theme="light"] body#tinymce[style*="line-height"],
[data-theme="light"] body#tinymce[style*="margin"],
[data-theme="light"] body#tinymce[style*="padding"] {
    background: transparent !important;
    color: #212529 !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
}

/* Блокируем стили для .mce-content-body */
[data-theme="dark"] body#tinymce.mce-content-body[style*="overflow-wrap"],
[data-theme="dark"] body#tinymce.mce-content-body[style*="word-wrap"] {
    overflow-wrap: normal !important;
    word-wrap: normal !important;
    background: transparent !important;
    color: #ffffff !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
}

[data-theme="light"] body#tinymce.mce-content-body[style*="overflow-wrap"],
[data-theme="light"] body#tinymce.mce-content-body[style*="word-wrap"] {
    overflow-wrap: normal !important;
    word-wrap: normal !important;
    background: transparent !important;
    color: #212529 !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
}

/* Максимально агрессивная блокировка всех возможных inline стилей */
[data-theme="dark"] body#tinymce[style],
[data-theme="dark"] body#tinymce.mce-content-body[style] {
    background: transparent !important;
    color: #ffffff !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
    overflow-wrap: normal !important;
    word-wrap: normal !important;
}

[data-theme="light"] body#tinymce[style],
[data-theme="light"] body#tinymce.mce-content-body[style] {
    background: transparent !important;
    color: #212529 !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
    overflow-wrap: normal !important;
    word-wrap: normal !important;
}

/* Блокируем inline стили для всех элементов внутри body#tinymce */
[data-theme="dark"] body#tinymce *[style*="color"],
[data-theme="dark"] body#tinymce *[style*="background"],
[data-theme="dark"] body#tinymce *[style*="font-family"],
[data-theme="dark"] body#tinymce *[style*="font-size"],
[data-theme="dark"] body#tinymce *[style*="line-height"],
[data-theme="dark"] body#tinymce *[style*="margin"],
[data-theme="dark"] body#tinymce *[style*="padding"] {
    color: #ffffff !important;
    background: transparent !important;
    font-family: inherit !important;
    font-size: inherit !important;
    line-height: inherit !important;
    margin: inherit !important;
    padding: inherit !important;
}

[data-theme="light"] body#tinymce *[style*="color"],
[data-theme="light"] body#tinymce *[style*="background"],
[data-theme="light"] body#tinymce *[style*="font-family"],
[data-theme="light"] body#tinymce *[style*="font-size"],
[data-theme="light"] body#tinymce *[style*="line-height"],
[data-theme="light"] body#tinymce *[style*="margin"],
[data-theme="light"] body#tinymce *[style*="padding"] {
    color: #212529 !important;
    background: transparent !important;
    font-family: inherit !important;
    font-size: inherit !important;
    line-height: inherit !important;
    margin: inherit !important;
    padding: inherit !important;
}

/* Дополнительная блокировка для iframe */
[data-theme="dark"] iframe body#tinymce[style],
[data-theme="dark"] iframe body#tinymce.mce-content-body[style],
[data-theme="dark"] #editorContainer_ifr body#tinymce[style],
[data-theme="dark"] #editorContainer_ifr body#tinymce.mce-content-body[style] {
    background: transparent !important;
    color: #ffffff !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
    overflow-wrap: normal !important;
    word-wrap: normal !important;
}

[data-theme="light"] iframe body#tinymce[style],
[data-theme="light"] iframe body#tinymce.mce-content-body[style],
[data-theme="light"] #editorContainer_ifr body#tinymce[style],
[data-theme="light"] #editorContainer_ifr body#tinymce.mce-content-body[style] {
    background: transparent !important;
    color: #212529 !important;
    font-family: 'Golos Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    font-size: 16px !important;
    line-height: 1.6 !important;
    margin: 0 !important;
    padding: 16px !important;
    min-height: 300px !important;
    overflow-wrap: normal !important;
    word-wrap: normal !important;
}

/* ===== АДАПТИВНЫЕ СТИЛИ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ ===== */

/* Мобильные устройства */
@media (max-width: 768px) {
    #editorContainer_ifr {
        margin: 2px !important;
        min-height: calc(100vh - 150px) !important;
        max-height: calc(100vh - 150px) !important;
        width: calc(100% - 4px) !important;
        max-width: calc(100% - 4px) !important;
    }
    
    #editorContainer_ifr body {
        margin-left: 35px !important;
        margin-right: 10px !important;
        margin-top: 15px !important;
        margin-bottom: 15px !important;
        line-height: 25px !important;
        font-size: 16px !important;
    }
    
    /* Стили для таблиц на мобильных устройствах */
    [data-theme="dark"] #editorContainer_ifr body table,
    [data-theme="dark"] .tox-edit-area iframe body table {
        color: #ffffff !important;
        background: #000000 !important;
        border: 2px solid #ffffff !important;
        background-image: none !important;
        margin: 15px 0 !important;
        position: relative !important;
        z-index: 10 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    [data-theme="dark"] #editorContainer_ifr body table td,
    [data-theme="dark"] #editorContainer_ifr body table th,
    [data-theme="dark"] .tox-edit-area iframe body table td,
    [data-theme="dark"] .tox-edit-area iframe body table th {
        color: #ffffff !important;
        background: #000000 !important;
        border: 1px solid #ffffff !important;
        background-image: none !important;
        padding: 8px 12px !important;
    }
    
    [data-theme="light"] #editorContainer_ifr body table,
    [data-theme="light"] .tox-edit-area iframe body table {
        color: #000000 !important;
        background: #ffffff !important;
        border: 2px solid #000000 !important;
        background-image: none !important;
        margin: 15px 0 !important;
        position: relative !important;
        z-index: 10 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    [data-theme="light"] #editorContainer_ifr body table td,
    [data-theme="light"] #editorContainer_ifr body table th,
    [data-theme="light"] .tox-edit-area iframe body table td,
    [data-theme="light"] .tox-edit-area iframe body table th {
        color: #000000 !important;
        background: #ffffff !important;
        border: 1px solid #000000 !important;
        background-image: none !important;
        padding: 8px 12px !important;
    }
}

/* Планшеты */
@media (min-width: 769px) and (max-width: 1024px) {
    #editorContainer_ifr {
        margin: 3px !important;
        min-height: calc(100vh - 180px) !important;
        max-height: calc(100vh - 180px) !important;
        width: calc(100% - 6px) !important;
        max-width: calc(100% - 6px) !important;
    }
    
    #editorContainer_ifr body {
        margin-left: 45px !important;
        margin-right: 15px !important;
        margin-top: 18px !important;
        margin-bottom: 18px !important;
        line-height: 25px !important;
        font-size: 16px !important;
    }
    
    /* Стили для таблиц на планшетах */
    [data-theme="dark"] #editorContainer_ifr body table,
    [data-theme="dark"] .tox-edit-area iframe body table {
        color: #ffffff !important;
        background: #000000 !important;
        border: 2px solid #ffffff !important;
        background-image: none !important;
        margin: 18px 0 !important;
        position: relative !important;
        z-index: 10 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    [data-theme="dark"] #editorContainer_ifr body table td,
    [data-theme="dark"] #editorContainer_ifr body table th,
    [data-theme="dark"] .tox-edit-area iframe body table td,
    [data-theme="dark"] .tox-edit-area iframe body table th {
        color: #ffffff !important;
        background: #000000 !important;
        border: 1px solid #ffffff !important;
        background-image: none !important;
        padding: 10px 14px !important;
    }
    
    [data-theme="light"] #editorContainer_ifr body table,
    [data-theme="light"] .tox-edit-area iframe body table {
        color: #000000 !important;
        background: #ffffff !important;
        border: 2px solid #000000 !important;
        background-image: none !important;
        margin: 18px 0 !important;
        position: relative !important;
        z-index: 10 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        border-radius: 8px !important;
        overflow: hidden !important;
    }
    
    [data-theme="light"] #editorContainer_ifr body table td,
    [data-theme="light"] #editorContainer_ifr body table th,
    [data-theme="light"] .tox-edit-area iframe body table td,
    [data-theme="light"] .tox-edit-area iframe body table th {
        color: #000000 !important;
        background: #ffffff !important;
        border: 1px solid #000000 !important;
        background-image: none !important;
        padding: 10px 14px !important;
    }
}

/* Большие экраны */
@media (min-width: 1025px) {
    #editorContainer_ifr {
        margin: 5px !important;
        min-height: calc(100vh - 200px) !important;
        max-height: calc(100vh - 200px) !important;
        width: calc(100% - 10px) !important;
        max-width: calc(100% - 10px) !important;
    }
    
    #editorContainer_ifr body {
        margin-left: 50px !important;
        margin-right: 20px !important;
        margin-top: 20px !important;
        margin-bottom: 20px !important;
        line-height: 25px !important;
        font-size: 16px !important;
    }
}
