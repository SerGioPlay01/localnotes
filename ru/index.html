<!DOCTYPE html>
<html lang="ru">

<head>
    <!-- Google tag (gtag.js) -->
    <script>
        // Load Google Analytics with better error handling
        function loadGoogleAnalytics() {
            const script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-HR9HLBQFCR';
            script.onload = function() {
                try {
                    window.dataLayer = window.dataLayer || [];
                    function gtag() { dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-HR9HLBQFCR');
                    
                } catch (error) {
                    
                }
            };
            script.onerror = function() {
                
            };
            document.head.appendChild(script);
        }
        
        // Load analytics after a short delay to not block page load
        setTimeout(loadGoogleAnalytics, 100);
    </script>

    <meta charset="UTF-8">
    <meta http-equiv="Permissions-Policy" content="browsing-topics=(), run-ad-auction=(), camera=(), microphone=(), geolocation=()">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: blob: https:; font-src 'self' data: https://fonts.gstatic.com chrome-extension:; connect-src 'self' blob: https://www.google-analytics.com https://analytics.google.com; frame-src 'self' https://www.youtube.com https://youtu.be https://www.youtube-nocookie.com https://rutube.ru https://vk.com https://player.vimeo.com https://www.dailymotion.com https://player.twitch.tv; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    
    <!-- Cache busting meta tags -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-buster" content="<script>document.write(Date.now())</script>">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    
    <!-- Mobile Optimization -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Local Notes">
    <meta name="msapplication-TileColor" content="#0a0a0a">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="msapplication-navbutton-color" content="#0a0a0a">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Enhanced SEO Meta Tags -->
    <title>Локальные заметки - Безопасное приложение для заметок | Зашифрованные заметки в браузере</title>
    <meta name="description" content="Локальные заметки - безопасное приложение для заметок с шифрованием AES-256, поддержкой 12 языков, офлайн функциональностью. Создавайте, сохраняйте и экспортируйте заметки прямо в браузере. Бесплатно, приватно и быстро.">
    <meta name="keywords" content="локальные заметки, безопасные заметки, заметки в браузере, приложение для заметок, зашифрованные заметки, офлайн заметки, AES-256, приватность, продуктивность, заметки приложение, веб заметки, локальное хранилище, экспорт заметок, импорт заметок, многоязычность, PWA, прогрессивное веб приложение">
    <meta name="author" content="SerGio Play">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="bingbot" content="index, follow">
    <meta name="yandex" content="index, follow">
    <meta name="baiduspider" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://localnotes-web.netlify.app/ru/">
    
    <!-- Enhanced Open Graph Meta Tags -->
    <meta property="og:title" content="📝 Локальные заметки - Безопасное приложение для заметок | Шифрование AES-256 & 12 языков">
    <meta property="og:site_name" content="Локальные заметки">
    <meta property="og:url" content="https://localnotes-web.netlify.app/ru/">
    <meta property="og:description" content="🔒 Безопасное приложение для заметок с шифрованием AES-256, поддержкой 12 языков, офлайн функциональностью. Создавайте, сохраняйте и экспортируйте заметки прямо в браузере. Бесплатно, приватно и быстро. Регистрация не требуется!">
    <meta property="og:image" content="https://localnotes-web.netlify.app/resources/obl_web_ru.jpg">
    <meta property="og:image:secure_url" content="https://localnotes-web.netlify.app/resources/obl_web_ru.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Локальные заметки - Безопасное приложение для заметок с шифрованием AES-256">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ru_RU">
    <meta property="og:locale:alternate" content="en_US">
    <meta property="og:locale:alternate" content="uk_UA">
    <meta property="og:locale:alternate" content="pl_PL">
    <meta property="og:locale:alternate" content="cs_CZ">
    <meta property="og:locale:alternate" content="sk_SK">
    <meta property="og:locale:alternate" content="bg_BG">
    <meta property="og:locale:alternate" content="hr_HR">
    <meta property="og:locale:alternate" content="sr_RS">
    <meta property="og:locale:alternate" content="bs_BA">
    <meta property="og:locale:alternate" content="mk_MK">
    <meta property="og:locale:alternate" content="sl_SI">
    
    <!-- Additional Open Graph Meta Tags for Better Social Sharing -->
    <meta property="og:updated_time" content="2025-01-12T00:00:00Z">
    <meta property="og:see_also" content="https://localnotes-web.netlify.app/">
    <meta property="og:see_also" content="https://localnotes-web.netlify.app/ua/">
    <meta property="og:see_also" content="https://localnotes-web.netlify.app/pl/">
    <meta property="article:author" content="SerGio Play">
    <meta property="article:publisher" content="https://sergioplay-dev.vercel.app/">
    <meta property="article:section" content="Продуктивность">
    <meta property="article:tag" content="заметки">
    <meta property="article:tag" content="шифрование">
    <meta property="article:tag" content="приватность">
    <meta property="article:tag" content="продуктивность">
    <meta property="article:tag" content="PWA">
    <meta property="article:tag" content="офлайн">
    <meta property="article:tag" content="безопасность">
    <meta property="article:tag" content="браузер">
    <meta property="article:tag" content="локальное хранилище">
    <meta property="article:tag" content="многоязычность">
    <meta property="article:tag" content="AES-256">
    <meta property="article:tag" content="бесплатно">
    <meta property="article:tag" content="без регистрации">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@LocalNotesApp">
    <meta name="twitter:creator" content="@SerGioPlay">
    <meta name="twitter:title" content="📝 Локальные заметки - Безопасное приложение для заметок | Шифрование AES-256 & 12 языков">
    <meta name="twitter:description" content="🔒 Безопасное приложение для заметок с шифрованием AES-256, поддержкой 12 языков, офлайн функциональностью. Создавайте, сохраняйте и экспортируйте заметки прямо в браузере. Бесплатно, приватно и быстро. Регистрация не требуется!">
    <meta name="twitter:image" content="https://localnotes-web.netlify.app/resources/obl_web_ru.jpg">
    <meta name="twitter:image:alt" content="Локальные заметки - Безопасное приложение для заметок с шифрованием AES-256">
    <meta name="twitter:domain" content="localnotes-web.netlify.app">
    <meta name="twitter:url" content="https://localnotes-web.netlify.app/ru/">
    <meta name="twitter:label1" content="Функции">
    <meta name="twitter:data1" content="Шифрование AES-256, 12 языков, Офлайн, PWA">
    <meta name="twitter:label2" content="Цена">
    <meta name="twitter:data2" content="Бесплатно">
    <meta name="twitter:app:name:iphone" content="Локальные заметки">
    <meta name="twitter:app:name:ipad" content="Локальные заметки">
    <meta name="twitter:app:name:googleplay" content="Локальные заметки">
    <meta name="twitter:app:url:iphone" content="https://localnotes-web.netlify.app/ru/">
    <meta name="twitter:app:url:ipad" content="https://localnotes-web.netlify.app/ru/">
    <meta name="twitter:app:url:googleplay" content="https://localnotes-web.netlify.app/ru/">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="application-name" content="Локальные заметки">
    <meta name="msapplication-TileColor" content="#0a0a0a">
    <meta name="msapplication-config" content="../favicon/browserconfig.xml">
    <meta name="format-detection" content="telephone=no">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="ru">
    <meta name="geo.region" content="RU">
    <meta name="geo.placename" content="Россия">
    <meta name="revisit-after" content="7 days">
    <meta name="expires" content="never">
    <meta name="copyright" content="SerGio Play">
    <meta name="reply-to" content="contact@localnotes.app">
    <meta name="owner" content="SerGio Play">
    <meta name="url" content="https://localnotes-web.netlify.app/ru/">
    <meta name="identifier-URL" content="https://localnotes-web.netlify.app/ru/">
    <meta name="category" content="Продуктивность, Утилиты, Бизнес">
    <meta name="coverage" content="Worldwide">
    <meta name="target" content="all">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Локальные заметки">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Локальные заметки",
        "alternateName": "Local Notes",
        "description": "Безопасное приложение для заметок с шифрованием AES-256, поддержкой многоязычности и офлайн функциональностью",
        "url": "https://localnotes-web.netlify.app/ru/",
        "applicationCategory": "ProductivityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "RUB"
        },
        "author": {
            "@type": "Person",
            "name": "SerGio Play",
            "url": "https://sergioplay-dev.vercel.app/"
        },
        "publisher": {
            "@type": "Person",
            "name": "SerGio Play",
            "url": "https://sergioplay-dev.vercel.app/"
        },
        "datePublished": "2024-01-01",
        "dateModified": "2025-01-12",
        "version": "1.0.2",
        "softwareVersion": "1.0.2",
        "browserRequirements": "Требует JavaScript. Требует HTML5.",
        "memoryRequirements": "Минимальные",
        "storageRequirements": "Локальное хранилище браузера",
        "permissions": "Доступ к локальному хранилищу",
        "featureList": [
            "Шифрование AES-256",
            "Поддержка многоязычности (12 языков)",
            "Офлайн функциональность",
            "Экспорт/Импорт заметок",
            "Богатый текстовый редактор",
            "Функция поиска",
            "Поддержка PWA",
            "Кроссплатформенная совместимость"
        ],
        "screenshot": "https://localnotes-web.netlify.app/resources/obl_web.jpg",
        "softwareHelp": "https://localnotes-web.netlify.app/ru/usage_policy.html",
        "license": "https://localnotes-web.netlify.app/LICENSE",
        "privacyPolicy": "https://localnotes-web.netlify.app/ru/privacy_policy.html",
        "termsOfService": "https://localnotes-web.netlify.app/ru/usage_policy.html",
        "inLanguage": ["ru", "en", "uk", "pl", "cs", "sk", "bg", "hr", "sr", "bs", "mk", "sl"],
        "isAccessibleForFree": true,
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "150",
            "bestRating": "5",
            "worstRating": "1"
        },
        "review": [
            {
                "@type": "Review",
                "author": {
                    "@type": "Person",
                    "name": "Отзыв пользователя"
                },
                "reviewRating": {
                    "@type": "Rating",
                    "ratingValue": "5",
                    "bestRating": "5"
                },
                "reviewBody": "Отличное безопасное приложение для заметок с отличным шифрованием и поддержкой многоязычности."
            }
        ]
    }
    </script>

    <!-- Critical CSS loaded first with cache busting -->
    <link rel="stylesheet" href="../css/index.css?v=1.0.3">
    <link rel="stylesheet" href="../css/preloader.css?v=1.0.3">
    <link rel="stylesheet" href="../css/img.css?v=1.0.3">
    <link rel="stylesheet" href="../css/highlight.css?v=1.0.3">
    <link rel="stylesheet" href="../css/tinymce-custom.css?v=1.0.3">
    <link rel="stylesheet" href="../fonts/local-fonts.css?v=1.0.3">
    
    <!-- Non-critical CSS loaded asynchronously -->
    <link rel="preload" href="../css/page.css?v=1.0.3" as="style" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="../css/print.css?v=1.0.3" as="style" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Fallback for browsers that don't support preload -->
    <noscript>
        <link rel="stylesheet" href="../css/page.css?v=1.0.3">
        <link rel="stylesheet" href="../css/print.css?v=1.0.3">
    </noscript>
    
    <!-- Prevent FOUC by hiding content until styles are loaded -->
    <style>
        body { visibility: hidden; }
        body.styles-loaded { visibility: visible; }
    </style>
    <script>
        // Show content after critical styles are loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to ensure styles are applied
            setTimeout(function() {
                document.body.classList.add('styles-loaded');
            }, 50);
        });
        
        // Force cache refresh for critical resources
        if ('caches' in window) {
            caches.keys().then(function(cacheNames) {
                cacheNames.forEach(function(cacheName) {
                    if (cacheName.includes('v1.0.2') || cacheName.includes('static-v1.0.2') || cacheName.includes('dynamic-v1.0.2')) {
                        caches.delete(cacheName);
                        console.log('Deleted old cache:', cacheName);
                    }
                });
            });
        }
    </script>
    
    <link rel="apple-touch-icon" sizes="180x180" href="../favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon/favicon-16x16.png">
    <link rel="manifest" href="../favicon/site.webmanifest">
    <link rel="manifest" href="../manifest.json">

    <!-- Hreflang tags for SEO -->
    <link rel="alternate" hreflang="en" href="https://localnotes-web.netlify.app/">
    <link rel="alternate" hreflang="ru" href="https://localnotes-web.netlify.app/ru/">
    <link rel="alternate" hreflang="ua" href="https://localnotes-web.netlify.app/ua/">
    <link rel="alternate" hreflang="pl" href="https://localnotes-web.netlify.app/pl/">
    <link rel="alternate" hreflang="cs" href="https://localnotes-web.netlify.app/cs/">
    <link rel="alternate" hreflang="sk" href="https://localnotes-web.netlify.app/sk/">
    <link rel="alternate" hreflang="bg" href="https://localnotes-web.netlify.app/bg/">
    <link rel="alternate" hreflang="hr" href="https://localnotes-web.netlify.app/hr/">
    <link rel="alternate" hreflang="sr" href="https://localnotes-web.netlify.app/sr/">
    <link rel="alternate" hreflang="bs" href="https://localnotes-web.netlify.app/bs/">
    <link rel="alternate" hreflang="mk" href="https://localnotes-web.netlify.app/mk/">
    <link rel="alternate" hreflang="sl" href="https://localnotes-web.netlify.app/sl/">
    <link rel="alternate" hreflang="x-default" href="https://localnotes-web.netlify.app/">

    <title>Локальные заметки</title>
</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVKPW88F" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header section - full width -->
    <div class="info-app">
        <span class="logo"></span>
        <h1 class="name-app">Локальные заметки</h1>
    </div>

    <!-- Navigation section - full width -->
    <div class="center_nav">
        <section class="sticky">
            <div class="block_btn">
                <button id="addNoteButton">Добавить заметку</button>
                <button id="importButton">Импортировать заметки</button>
                <button id="clearAllButton">Очистить все заметки</button>
                <input multiple type="file" id="importInput" accept=".note,.html,.md">
            </div>
            <input type="text" id="searchInput" placeholder="Поиск по заметкам...">
        </section>
    </div>

    <!-- Main content section -->
    <section class="app-notes-center">
        <section class="app-notes">
            <div class="btn_view_div">
                <button id="toggleViewButton">Переключить вид</button>
            </div>

            <div class="notes_center">
                <div id="notesContainer" class="default-view"></div>
            </div>

            <!-- Модальное окно для редактирования заметок -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <h2 class="modal_h2">Редактор</h2>
                    <textarea id="editorContainer" class="tinymce"></textarea>
                    <div class="modal-buttons-container">
                        <button id="saveNoteButton">Сохранить заметку</button>
                        <button id="cancelNoteButton" class="btn cancel">Отмена</button>
                    </div>
                </div>
            </div>

            <!-- Модальное окно для подтверждения -->
            <div id="confirmModal" class="modal">
                <div class="modal-content-error">
                    <p id="confirmMessage"></p>
                    <button id="confirmYes" class="btn">ОК</button>
                    <button id="confirmNo" class="btn cancel">Отмена</button>
                </div>
            </div>

            <div id="error" class="modal">
                <div class="modal-content-error">
                    <button id="ok" class="btn cancel">ОК</button>
                </div>
            </div>
        </section>

        <footer>
            <div class="info-about-project">
                <p>
                    Локальные заметки — это простой и удобный инструмент для создания заметок прямо в браузере. Все заметки сохраняются в вашем браузере. Сохраняйте свои мысли, идеи и истории, структурируя их с помощью заголовков, форматирования текста, списков и других элементов. Экспортируйте заметки в файл и делитесь ими с друзьями анонимно — просто отправьте файл, и они смогут открыть его импортировав его в веб-приложение. С «Локальными заметками» ваши записи всегда под рукой, организованные и безопасные.
                </p>
            </div>
            <div class="footer-content">
                <p id="cookie"></p>
                <br><br>
                <a href="/ru/cookie_policy.html" target="_blank" class="Cookie_Policy">Политика использования файлов cookie</a>
                <br> <br>
                <a href="/ru/usage_policy.html" target="_blank" class="Usage_Policy">Условия использования</a>
                <br> <br>
                <a href="/ru/privacy_policy.html" target="_blank" class="Privacy_Policy">Политика конфиденциальности</a>
                <br><br>
                <a class="author" href="https://sergioplay-dev.vercel.app/" target="_blank">Сайт разработан SerGio Play</a></p>
                <br><br>
                <p>&copy; <span id="currentYear"></span><span class="footerCopyRight">Все права защищены. Local Notes</span></p>
            </div>
        </footer>
    </section>

        <!-- Language Detection and Redirect -->
    <script>
        // Language mapping for automatic redirection
        const languageMap = {
            'ru': '/ru/',
            'ua': '/ua/',
            'pl': '/pl/',
            'cs': '/cs/',
            'sk': '/sk/',
            'bg': '/bg/',
            'hr': '/hr/',
            'sr': '/sr/',
            'bs': '/bs/',
            'mk': '/mk/',
            'sl': '/sl/'
        };

        // Get user's preferred language
        function getUserLanguage() {
            // Check URL parameter first
            const urlParams = new URLSearchParams(window.location.search);
            const langParam = urlParams.get('lang');
            if (langParam && languageMap[langParam]) {
                
                return langParam;
            }

            // Check localStorage
            const savedLang = localStorage.getItem('preferredLanguage');
            if (savedLang && languageMap[savedLang]) {
                
                return savedLang;
            }

            // Check all browser languages (more comprehensive)
            const browserLanguages = navigator.languages || [navigator.language || navigator.userLanguage];

            for (let browserLang of browserLanguages) {
                const langCode = browserLang.split('-')[0].toLowerCase();

                if (languageMap[langCode]) {
                    
                    return langCode;
                }
                
                // Check for specific country codes
                const countryCode = browserLang.split('-')[1]?.toLowerCase();
                if (countryCode) {
                    
                    // Special cases for countries
                    if (countryCode === 'ua') {
                        
                        return 'ua';
                    }
                    if (countryCode === 'by') {
                        
                        return 'ru';
                    }
                    if (countryCode === 'kz') {
                        
                        return 'ru';
                    }
                    if (countryCode === 'md') {
                        
                        return 'ru';
                    }
                    if (countryCode === 'ru') {
                        
                        return 'ru';
                    }
                }
            }

            // Check system language via Intl API
            try {
                const systemLang = Intl.DateTimeFormat().resolvedOptions().locale;
                const systemLangCode = systemLang.split('-')[0].toLowerCase();

                if (languageMap[systemLangCode]) {
                    
                    return systemLangCode;
                }
            } catch (e) {
                
            }

            // Check timezone for additional hints
            try {
                const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

                // Russian timezones
                if (timezone.includes('Moscow') || timezone.includes('Europe/Moscow') || 
                    timezone.includes('Asia/Yekaterinburg') || timezone.includes('Asia/Novosibirsk') ||
                    timezone.includes('Asia/Krasnoyarsk') || timezone.includes('Asia/Irkutsk') ||
                    timezone.includes('Asia/Yakutsk') || timezone.includes('Asia/Vladivostok')) {
                    
                    return 'ru';
                }
                
                // Ukrainian timezone
                if (timezone.includes('Kiev') || timezone.includes('Europe/Kiev')) {
                    
                    return 'ua';
                }
            } catch (e) {
                
            }

            // Check for Russian/Ukrainian characters in user agent or other hints
            try {
                const userAgent = navigator.userAgent;

                // Check if user agent contains Cyrillic or Russian-specific strings
                if (userAgent.includes('ru-RU') || userAgent.includes('ru_ru') || 
                    userAgent.includes('Russian') || userAgent.includes('Русский')) {
                    
                    return 'ru';
                }
                
                if (userAgent.includes('uk-UA') || userAgent.includes('uk_ua') || 
                    userAgent.includes('Ukrainian') || userAgent.includes('Українська')) {
                    
                    return 'ua';
                }
            } catch (e) {
                
            }

            // Default to ru for this page
            
            return 'ru';
        }

        // Redirect to appropriate language version
        function redirectToLanguage() {
            const userLang = getUserLanguage();

            
            if (userLang !== 'ru' && languageMap[userLang]) {
                
                // Save language preference
                localStorage.setItem('preferredLanguage', userLang);
                
                // Redirect to language-specific version
                window.location.replace(languageMap[userLang]);
                return;
            }

            // If ru or no specific language, show the main page
            showMainPage();
        }

        // Show main page content
        function showMainPage() {
            // Set ru as default language
            window.currentLang = 'ru';
            document.body.style.display = 'block';
            
            // Show project information in console
            console.log('%c📝 Local Notes - Локальные Заметки', 'color: #4CAF50; font-size: 20px; font-weight: bold;');
            console.log('%c🔒 Безопасно • 🌍 Многоязычно • 📱 PWA • ⚡ Быстро', 'color: #2196F3; font-size: 14px;');
            console.log('%cВерсия: 1.0.2 | Автор: SerGio Play', 'color: #FF9800; font-size: 12px;');
            console.log('%c🌐 Сайт: https://localnotes-web.netlify.app/', 'color: #9C27B0; font-size: 12px;');
            console.log('%c📚 GitHub: https://github.com/SerGioPlay01/localnotes', 'color: #607D8B; font-size: 12px;');
            console.log('%c🎯 Возможности: AES-256 Шифрование • 12 Языков • Офлайн • TinyMCE', 'color: #795548; font-size: 11px;');
            console.log('%c💡 Совет: Используйте поиск с транслитерацией (Кириллица ↔ Латиница)', 'color: #E91E63; font-size: 11px;');
            
            // Update button texts after page load
            if (typeof updateButtonTexts === 'function') {
                setTimeout(updateButtonTexts, 200);
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            redirectToLanguage();
        });

        // Fallback: show page after 1 second if no redirect happened
        setTimeout(function() {
            if (!document.body.classList.contains('styles-loaded')) {
                showMainPage();
            }
        }, 1000);

    </script>
    
    <!-- Critical JavaScript loaded first with cache busting -->
    <script src="../js/utils.js?v=1.0.3"></script>
    <script src="../js/selectors.js?v=1.0.3"></script>
    <script src="../js/translate.js?v=1.0.3"></script>
    <script src="../js/themes.js?v=1.0.3"></script>
    <script src="../js/performance.js?v=1.0.3"></script>
    <script src="../js/security.js?v=1.0.3"></script>
    <script src="../lottiesnimstion/lottie.min.js?v=1.0.3"></script>
    <script src="../js/preloader.js?v=1.0.3"></script>
    
    <!-- TinyMCE loaded with defer for better performance -->
    <script src="../editor_news/tinymce.min.js?v=1.0.3" defer></script>
    
    <!-- Non-critical JavaScript loaded asynchronously -->
    <script>
        // Load non-critical scripts asynchronously
        function loadScript(src, callback) {
            const script = document.createElement('script');
            script.src = src;
            script.async = true;
            if (callback) script.onload = callback;
            document.head.appendChild(script);
        }
        
        // Load scripts after DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            loadScript('../js/magicurl.js?v=1.0.3');
            loadScript('../js/highlight.min.js?v=1.0.3');
            loadScript('../js/translations.js?v=1.0.3');
            loadScript('../js/tinymce-translations.js?v=1.0.3');
            loadScript('../js/img.js?v=1.0.3');
            loadScript('../js/date-utils.js?v=1.0.3');
            
            // Load main script last
            loadScript('../js/index.js?v=1.0.3');
        });
    </script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('../sw.js?v=1.0.3')
                    .then(function(registration) {
                        // Принудительно обновляем Service Worker при загрузке
                        registration.update();
                        
                        // Проверка обновлений
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Новый Service Worker доступен
                                    if (confirm('Доступно обновление приложения. Перезагрузить страницу?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.warn('Service Worker registration failed:', error);
                    });
            });
        }
    </script>

    <!-- Universal Cookies Banner -->
    <script src="../cookies_banner_universal/cookies-banner.js"></script>

</body>

</html>