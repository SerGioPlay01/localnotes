<!DOCTYPE html>
<html lang="cs">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HR9HLBQFCR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-HR9HLBQFCR');
    </script>

    <meta charset="UTF-8">
    <meta http-equiv="Permissions-Policy" content="browsing-topics=(), run-ad-auction=(), camera=(), microphone=(), geolocation=()">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: blob: https:; font-src 'self' data: https://fonts.gstatic.com chrome-extension:; connect-src 'self' https://www.google-analytics.com https://analytics.google.com; frame-src 'none'; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    
    <!-- Cache busting meta tags -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-buster" content="<script>document.write(Date.now())</script>">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    
    <!-- Mobile Optimization -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Local Notes">
    <meta name="msapplication-TileColor" content="#0a0a0a">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="msapplication-navbutton-color" content="#0a0a0a">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- SEO Meta Tags -->
    <meta property="og:title" content="Lokální poznámky - Uložte důležité poznámky přímo ve vašem prohlížeči">
    <meta property="og:site_name" content="Lokální poznámky">
    <meta property="og:url" content="https://localnotes-web.netlify.app/cs/">
    <meta property="og:description" content="Lokální poznámky je aplikace pro vytváření a ukládání poznámek v prohlížeči.">
    <meta property="og:image" content="/resources/obl_web.jpg">
    <meta property="og:image:width" content="968">
    <meta property="og:image:height" content="504">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="cs_CZ">

    <meta name="description" content="Lokální poznámky je aplikace pro vytváření a ukládání poznámek v prohlížeči.">
    <meta name="keywords" content="lokální poznámky, poznámky, poznámky v prohlížeči, aplikace pro poznámky, poznámky online, Local Notes">
    <meta name="author" content="SerGio Play">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">

    <!-- Critical CSS loaded first -->
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/preloader.css">
    
    <!-- Non-critical CSS loaded asynchronously -->
    <link rel="preload" href="/css/img.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/highlight.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/tinymce-custom.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Fallback for browsers that don't support preload -->
    <noscript>
        <link rel="stylesheet" href="/css/img.css">
        <link rel="stylesheet" href="/css/highlight.css">
        <link rel="stylesheet" href="/css/tinymce-custom.css">
    </noscript>
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="manifest" href="/manifest.json">

    <!-- Hreflang tags for SEO -->
    <link rel="alternate" hreflang="en" href="https://localnotes-web.netlify.app/">
    <link rel="alternate" hreflang="ru" href="https://localnotes-web.netlify.app/ru/">
    <link rel="alternate" hreflang="uk" href="https://localnotes-web.netlify.app/uk/">
    <link rel="alternate" hreflang="pl" href="https://localnotes-web.netlify.app/pl/">
    <link rel="alternate" hreflang="cs" href="https://localnotes-web.netlify.app/cs/">
    <link rel="alternate" hreflang="sk" href="https://localnotes-web.netlify.app/sk/">
    <link rel="alternate" hreflang="bg" href="https://localnotes-web.netlify.app/bg/">
    <link rel="alternate" hreflang="hr" href="https://localnotes-web.netlify.app/hr/">
    <link rel="alternate" hreflang="sr" href="https://localnotes-web.netlify.app/sr/">
    <link rel="alternate" hreflang="bs" href="https://localnotes-web.netlify.app/bs/">
    <link rel="alternate" hreflang="mk" href="https://localnotes-web.netlify.app/mk/">
    <link rel="alternate" hreflang="sl" href="https://localnotes-web.netlify.app/sl/">
    <link rel="alternate" hreflang="x-default" href="https://localnotes-web.netlify.app/">

    <title>Lokální poznámky</title>
</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVKPW88F" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header section - full width -->
    <div class="info-app">
        <span class="logo"></span>
        <h1 class="name-app">Lokální poznámky</h1>
    </div>

    <!-- Navigation section - full width -->
    <div class="center_nav">
        <section class="sticky">
            <div class="block_btn">
                <button id="addNoteButton"><i class="fas fa-plus"></i> Přidat poznámku</button>
                <button id="importButton"><i class="fas fa-upload"></i> Importovat poznámky</button>
                <button id="clearAllButton"><i class="fas fa-trash-alt"></i> Vymazat všechny poznámky</button>
                <input multiple type="file" id="importInput" accept=".note">
            </div>
            <input type="text" id="searchInput" placeholder="Hledat poznámky...">
        </section>
    </div>

    <!-- Main content section -->
    <section class="app-notes-center">
        <section class="app-notes">
            <div class="btn_view_div">
                <button id="toggleViewButton"><i class="fas fa-th"></i> Přepnout zobrazení</button>
            </div>

            <div class="notes_center">
                <div id="notesContainer" class="default-view"></div>
            </div>

            <!-- Modální okno pro úpravu poznámek -->
            <div id="editModal" class="modal">
                <div class="modal-content">
                    <h2 class="modal_h2">Editor</h2>
                    <textarea id="editorContainer" class="tinymce"></textarea>
                    <div class="modal-buttons-container">
                        <button id="saveNoteButton"><i class="fas fa-save"></i> Uložit poznámku</button>
                        <button id="cancelNoteButton" class="btn cancel"><i class="fas fa-times"></i> Zrušit</button>
                    </div>
                </div>
            </div>

            <!-- Modální okno pro potvrzení -->
            <div id="confirmModal" class="modal">
                <div class="modal-content-error">
                    <p id="confirmMessage"></p>
                    <button id="confirmYes" class="btn"><i class="fas fa-check"></i> OK</button>
                    <button id="confirmNo" class="btn cancel"><i class="fas fa-times"></i> Zrušit</button>
                </div>
            </div>

            <div id="error" class="modal">
                <div class="modal-content-error">
                    <button id="ok" class="btn cancel"><i class="fas fa-check"></i> OK</button>
                </div>
            </div>
        </section>

        <footer>
            <div class="info-about-project">
                <p>
                    Lokální poznámky je jednoduchý a pohodlný nástroj pro vytváření poznámek přímo v prohlížeči. Všechny poznámky jsou uloženy ve vašem prohlížeči. Uložte své myšlenky, nápady a příběhy, strukturované pomocí nadpisů, formátování textu, seznamů a dalších prvků. Exportujte poznámky do souboru a sdílejte je s přáteli anonymně — jednoduše pošlete soubor a oni jej budou moci otevřít importem do webové aplikace. S Lokálními poznámkami jsou vaše záznamy vždy po ruce, organizované a bezpečné.
                </p>
            </div>
            <div class="footer-content">
                <p id="cookie"></p>
                <br><br>
                <a href="/cs/cookie_policy.html" target="_blank" class="Cookie_Policy">Zásady používání cookies</a>
                <br> <br>
                <a href="/cs/usage_policy.html" target="_blank" class="Usage_Policy">Podmínky použití</a>
                <br> <br>
                <a href="/cs/privacy_policy.html" target="_blank" class="Privacy_Policy">Zásady ochrany osobních údajů</a>
                <br><br>
                <a class="author" href="https://sergioplay-dev.netlify.app/" target="_blank">Web vytvořen SerGio Play</a></p>
                <br><br>
                <p>&copy; <span id="currentYear"></span><span class="footerCopyRight">Všechna práva vyhrazena. Local Notes</span></p>
            </div>
        </footer>
    </section>


    <script>
        // Set language for this page
        window.currentLang = 'cs';
    </script>
    
    <!-- Critical JavaScript loaded first -->
    <script src="/js/utils.js"></script>
    <script src="/js/selectors.js"></script>
    <script src="/js/translate.js"></script>
    <script src="/js/themes.js"></script>
    <script src="/js/performance.js"></script>
    <script src="/js/security.js"></script>
    
    <!-- TinyMCE loaded with defer for better performance -->
    <script src="/editor_news/tinymce.min.js" defer></script>
    
    <!-- Non-critical JavaScript loaded asynchronously -->
    <script>
        // Load non-critical scripts asynchronously
        function loadScript(src, callback) {
            const script = document.createElement('script');
            script.src = src;
            script.async = true;
            if (callback) script.onload = callback;
            document.head.appendChild(script);
        }
        
        // Load scripts after DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            loadScript('/js/magicurl.js');
            loadScript('/js/highlight.min.js');
            loadScript('/js/translations.js');
            loadScript('/js/tinymce-translations.js');
            loadScript('/js/img.js');
            loadScript('/js/preloader.js');
            loadScript('/js/date-utils.js');
            
            // Load main script last
            loadScript('/js/index.js');
        });
    </script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('Service Worker registered successfully:', registration.scope);
                        
                        // Проверка обновлений
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Новый Service Worker доступен
                                    if (confirm('Dostupná aktualizace aplikace. Obnovit stránku?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>

</body>

</html>
